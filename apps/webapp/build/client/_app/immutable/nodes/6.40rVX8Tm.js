import"../chunks/disclose-version.bJ1TNjgf.js";import{p as G,s,a as H,c as i,r as a,e as L,g as r,h as K,d as j,b as q,t as T,f as J,ab as tt}from"../chunks/runtime.-IAcHVGa.js";import{a as N,t as O,c as Z}from"../chunks/template.2JA4nrVh.js";import{i as Y}from"../chunks/if.rhLWI7XC.js";import{p as B}from"../chunks/proxy.-EQ_3oAC.js";import{C as at}from"../chunks/chef.ReSWN0ob.js";import{e as M,d as $,s as P}from"../chunks/render.b8-zIhki.js";import{r as b,b as it}from"../chunks/attributes.30sH_1mL.js";import{b as w,a as nt}from"../chunks/input.-wl6lriZ.js";import{p as Q}from"../chunks/event-modifiers.159HUB1L.js";import{p as V}from"../chunks/props.99304sWr.js";import{c as W}from"../chunks/index-client.CqCSz8ni.js";import{e as et,i as rt}from"../chunks/each.O8IpT50x.js";import{a as st,e as ot}from"../chunks/forms.Wo3Zfvcr.js";import{g as dt}from"../chunks/entry.F0RumkfI.js";var ut=O('<form class="space-y-4"><div><input type="email" placeholder="Email address" required class="w-full px-3 py-2 border rounded-md"></div> <div><input type="password" placeholder="Password" required class="w-full px-3 py-2 border rounded-md"></div> <button type="submit" class="w-full py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700">Next</button></form>');function lt(k,e){G(e,!0);let t=V(e,"registrationData",15);console.log({registrationData:t()});const f=W();function o(){f("next")}var l=ut(),x=K(()=>Q(o)),y=i(l),d=i(y);b(d),a(y);var p=s(y,2),c=i(p);b(c),a(p),L(2),a(l),M("submit",l,function(...v){var m;(m=r(x))==null||m.apply(this,v)}),w(d,()=>t().email,v=>t(t().email=v,!0)),w(c,()=>t().password,v=>t(t().password=v,!0)),N(k,l),H()}function pt(k,e){e("prev")}var vt=O('<form class="space-y-4"><div><input type="text" placeholder="First Name" required class="w-full px-3 py-2 border rounded-md"></div> <div><input type="text" placeholder="Last Name" required class="w-full px-3 py-2 border rounded-md"></div> <div><label class="flex items-center"><input type="checkbox" class="mr-2"> I represent an organization with multiple restaurants</label></div> <div class="flex space-x-4"><button type="button" class="w-1/2 py-2 text-indigo-600 bg-white border border-indigo-600 rounded-md hover:bg-indigo-50">Back</button> <button type="submit" class="w-1/2 py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700">Next</button></div></form>');function ct(k,e){G(e,!0);let t=V(e,"registrationData",15);const f=W();function o(){f("next")}var l=vt(),x=K(()=>Q(o)),y=i(l),d=i(y);b(d),a(y);var p=s(y,2),c=i(p);b(c),a(p);var v=s(p,2),m=i(v),C=i(m);b(C),L(),a(m),a(v);var D=s(v,2),h=i(D);h.__click=[pt,f],L(2),a(D),a(l),M("submit",l,function(...g){var _;(_=r(x))==null||_.apply(this,g)}),w(d,()=>t().firstName,g=>t(t().firstName=g,!0)),w(c,()=>t().lastName,g=>t(t().lastName=g,!0)),nt(C,()=>t().isOrganization,g=>t(t().isOrganization=g,!0)),N(k,l),H()}$(["click"]);function mt(k,e,t){e(e().restaurants=[...e().restaurants,{...r(t)}],!0),q(t,B({name:"",address:"",city:"",state:"",zipCode:"",owner:""}))}function gt(k,e){e("prev")}var ft=O('<div class="mb-2"><p> </p></div>'),bt=O('<form class="space-y-4"><div><input type="text" placeholder="Organization Name" required class="w-full px-3 py-2 border rounded-md"></div> <div class="space-y-4"><h3 class="mb-2 font-semibold">Restaurants</h3> <!> <div class="flex space-x-4"><div class="w-full"><div class="space-y-3"><input type="text" placeholder="Restaurant Name" class="w-full px-3 py-2 border rounded-md"> <input type="text" placeholder="Address" class="w-full px-3 py-2 border rounded-md"> <input type="text" placeholder="Enter city" class="w-full px-3 py-2 border rounded-md"> <input type="text" placeholder="Enter state" class="w-full px-3 py-2 border rounded-md"> <input type="text" placeholder="Enter zip code" class="w-full px-3 py-2 border rounded-md"> <input type="text" placeholder="Enter owner" class="w-full px-3 py-2 border rounded-md"></div> <button type="button" class="w-full py-2 mt-4 text-indigo-600 bg-white border border-indigo-600 rounded-md hover:bg-indigo-50">Add Restaurant</button> <div class="flex space-x-4 mt-4"><button type="button" class="w-1/2 py-2 text-indigo-600 bg-white border border-indigo-600 rounded-md hover:bg-indigo-50">Back</button> <button type="submit" class="w-1/2 py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700">Next</button></div></div></div></div></form>');function xt(k,e){G(e,!0);let t=V(e,"registrationData",15);const f=W();let o=j(B({name:"",address:"",city:"",state:"",zipCode:"",owner:""}));function l(){f("next")}var x=bt(),y=K(()=>Q(l)),d=i(x),p=i(d);b(p),a(d);var c=s(d,2),v=s(i(c),2);et(v,17,()=>t().restaurants,rt,(u,A)=>{var F=ft(),I=i(F),X=i(I);a(I),a(F),T(()=>P(X,`${r(A).name??""} - ${r(A).address??""}`)),N(u,F)});var m=s(v,2),C=i(m),D=i(C),h=i(D);b(h);var g=s(h,2);b(g);var _=s(g,2);b(_);var S=s(_,2);b(S);var E=s(S,2);b(E);var z=s(E,2);b(z),a(D);var n=s(D,2);n.__click=[mt,t,o];var R=s(n,2),U=i(R);U.__click=[gt,f],L(2),a(R),a(C),a(m),a(c),a(x),M("submit",x,function(...u){var A;(A=r(y))==null||A.apply(this,u)}),w(p,()=>t().organizationName,u=>t(t().organizationName=u,!0)),w(h,()=>r(o).name,u=>r(o).name=u),w(g,()=>r(o).address,u=>r(o).address=u),w(_,()=>r(o).city,u=>r(o).city=u),w(S,()=>r(o).state,u=>r(o).state=u),w(E,()=>r(o).zipCode,u=>r(o).zipCode=u),w(z,()=>r(o).owner,u=>r(o).owner=u),N(k,x),H()}$(["click"]);function yt(k,e){e("prev")}var _t=O('<form class="space-y-4"><div><input type="text" placeholder="Restaurant Name" required class="w-full px-3 py-2 border rounded-md"></div> <div><input type="text" placeholder="Restaurant Street Address" required class="w-full px-3 py-2 border rounded-md"></div> <div><input type="text" placeholder="Enter City" required class="w-full px-3 py-2 border rounded-md"></div> <div><input type="text" placeholder="Enter state" required class="w-full px-3 py-2 border rounded-md"></div> <div><input type="text" placeholder="zip Code" required class="w-full px-3 py-2 border rounded-md"></div> <div><input type="text" placeholder="Restaurant Owner" required class="w-full px-3 py-2 border rounded-md"></div> <div class="flex space-x-4"><button type="button" class="w-1/2 py-2 text-indigo-600 bg-white border border-indigo-600 rounded-md hover:bg-indigo-50">Back</button> <button type="submit" class="w-1/2 py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700">Next</button></div></form>');function ht(k,e){G(e,!0);let t=V(e,"registrationData",15);const f=W();function o(){t(t().restaurants=[t().restaurants[0]||{}],!0),f("next")}var l=_t(),x=K(()=>Q(o)),y=i(l),d=i(y);b(d),a(y);var p=s(y,2),c=i(p);b(c),a(p);var v=s(p,2),m=i(v);b(m),a(v);var C=s(v,2),D=i(C);b(D),a(C);var h=s(C,2),g=i(h);b(g),a(h);var _=s(h,2),S=i(_);b(S),a(_);var E=s(_,2),z=i(E);z.__click=[yt,f],L(2),a(E),a(l),M("submit",l,function(...n){var R;(R=r(x))==null||R.apply(this,n)}),w(d,()=>t().restaurants[0].name,n=>t(t().restaurants[0].name=n,!0)),w(c,()=>t().restaurants[0].address,n=>t(t().restaurants[0].address=n,!0)),w(m,()=>t().restaurants[0].city,n=>t(t().restaurants[0].city=n,!0)),w(D,()=>t().restaurants[0].state,n=>t(t().restaurants[0].state=n,!0)),w(g,()=>t().restaurants[0].zipCode,n=>t(t().restaurants[0].zipCode=n,!0)),w(S,()=>t().restaurants[0].owner,n=>t(t().restaurants[0].owner=n,!0)),N(k,l),H()}$(["click"]);var wt=O('<div class="p-3 mb-4 text-sm text-green-700 bg-green-100 rounded-lg" role="alert">Registration successful! You will be redirected to the login page shortly.</div>'),Dt=O("<li> </li>"),zt=O('<p> </p> <p>Restaurants:</p> <ul class="list-disc list-inside"></ul>',1),Nt=O("<p> </p> <p> </p>",1),kt=O('<div class="p-3 mb-4 text-sm text-red-700 bg-red-100 rounded-lg" role="alert"> </div>'),St=O('<h3 class="text-lg font-semibold">Review Your Information</h3> <p> </p> <p> </p> <!> <!> <form method="POST"><input type="hidden" name="registrationData"> <button type="submit" class="w-full py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"> </button></form> <p class="mt-4 text-sm text-center">By clicking "Complete Registration", you agree to our <a href="/terms" class="text-indigo-600 hover:underline">Terms of Service</a> and <a href="/privacy" class="text-indigo-600 hover:underline">Privacy Policy</a>.</p>',1),Rt=O('<div class="space-y-4"><!></div>');function Ct(k,e){G(e,!0);let t=j(!1),f=j(""),o=j(!1);const l=()=>(q(t,!0),q(f,""),async({result:d,update:p})=>{var c;q(t,!1),d.type==="success"?(q(o,!0),setTimeout(()=>{dt("/login")},3e3)):d.type==="failure"&&q(f,B(((c=d.data)==null?void 0:c.message)||"An error occurred. Please try again.")),await p()});var x=Rt(),y=i(x);Y(y,()=>r(o),d=>{var p=wt();N(d,p)},d=>{var p=St(),c=s(J(p),2),v=i(c);a(c);var m=s(c,2),C=i(m);a(m);var D=s(m,2);Y(D,()=>e.registrationData.isOrganization,z=>{var n=zt(),R=J(n),U=i(R);a(R);var u=s(R,4);et(u,21,()=>e.registrationData.restaurants,rt,(A,F)=>{var I=Dt(),X=i(I);a(I),T(()=>P(X,`${r(F).name??""} - ${r(F).address??""}`)),N(A,I)}),a(u),T(()=>P(U,`Organization: ${e.registrationData.organizationName??""}`)),N(z,n)},z=>{var n=Nt(),R=J(n),U=i(R);a(R);var u=s(R,2),A=i(u);a(u),T(()=>{P(U,`Restaurant: ${e.registrationData.restaurants[0].name??""}`),P(A,`Address: ${e.registrationData.restaurants[0].address??""}`)}),N(z,n)});var h=s(D,2);Y(h,()=>r(f),z=>{var n=kt(),R=i(n,!0);a(n),T(()=>P(R,r(f))),N(z,n)});var g=s(h,2),_=i(g);b(_),T(()=>it(_,JSON.stringify(e.registrationData)));var S=s(_,2),E=i(S,!0);a(S),a(g),st(g,(z,n)=>ot(z,n),()=>l),L(2),T(()=>{P(v,`Email: ${e.registrationData.email??""}`),P(C,`Name: ${e.registrationData.firstName??""} ${e.registrationData.lastName??""}`),S.disabled=r(t),P(E,r(t)?"Registering...":"Complete Registration")}),N(d,p)}),a(x),N(k,x),H()}var Ot=O('<div class="flex items-center justify-center min-h-screen bg-gray-100"><div class="w-full max-w-md p-6 bg-white rounded-lg shadow-md"><div class="flex justify-center mb-6"><!></div> <h2 class="mb-6 text-2xl font-bold text-center text-gray-900">Create Your Account</h2> <!></div></div>');function Kt(k){let e=j(B({email:"",password:"",firstName:"",lastName:"",isOrganization:!1,organizationName:"",restaurants:[{name:"",imageUrl:"",address:"",zipCode:"",state:"",city:"",owner:""}]})),t=j(1),f=j(!1);function o(){r(t)===2&&r(e).isOrganization!==void 0&&q(f,B(r(e).isOrganization)),tt(t)}function l(){tt(t,-1)}var x=Ot(),y=i(x),d=i(y),p=i(d);at(p,{}),a(d);var c=s(d,4);Y(c,()=>r(t)===1,v=>{lt(v,{get registrationData(){return r(e)},set registrationData(m){q(e,B(m))},$$events:{next:o}})},v=>{var m=Z(),C=J(m);Y(C,()=>r(t)===2,D=>{ct(D,{get registrationData(){return r(e)},set registrationData(h){q(e,B(h))},$$events:{next:o,prev:l}})},D=>{var h=Z(),g=J(h);Y(g,()=>r(t)===3&&r(f),_=>{xt(_,{get registrationData(){return r(e)},set registrationData(S){q(e,B(S))},$$events:{next:o,prev:l}})},_=>{var S=Z(),E=J(S);Y(E,()=>r(t)===3&&!r(f),z=>{ht(z,{get registrationData(){return r(e)},set registrationData(n){q(e,B(n))},$$events:{next:o,prev:l}})},z=>{Ct(z,{get registrationData(){return r(e)},set registrationData(n){q(e,B(n))}})},!0),N(_,S)},!0),N(D,h)},!0),N(v,m)}),a(y),a(x),N(k,x)}export{Kt as component};
