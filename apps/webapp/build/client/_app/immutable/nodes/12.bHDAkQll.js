import"../chunks/disclose-version.bJ1TNjgf.js";import{k as Fe,l as Ze,m as Je,at as Xe,w as tr,o as er,v as rr,ap as nr,f as Mt,p as ee,c as o,r as n,s,e as Dt,b as m,g as t,t as R,a as re,aQ as ir,d as V,h as It,aS as ve,aT as or,aU as Ie,aV as de,av as pe}from"../chunks/runtime.-IAcHVGa.js";import{d as ne,s as F,e as mt}from"../chunks/render.b8-zIhki.js";import{c as Yt,a as _,t as C,d as Pe}from"../chunks/template.2JA4nrVh.js";import{i as X}from"../chunks/if.rhLWI7XC.js";import{s as he}from"../chunks/class.D8Divq4b.js";import{e as Ft,i as Ot}from"../chunks/each.O8IpT50x.js";import{p as E}from"../chunks/proxy.-EQ_3oAC.js";import{b as oe}from"../chunks/select.MzJQi75E.js";import{s as Le,p as Ve}from"../chunks/event-modifiers.159HUB1L.js";import{c as Ge,a as ar,o as Qe}from"../chunks/index-client.CqCSz8ni.js";import{c as He,r as ge}from"../chunks/legacy-client.JRc2EHbh.js";import{a as Vt,z as Jt}from"../chunks/index.8zbXj4bR.js";import{r as Kt,c as Xt,s as sr,d as Ee}from"../chunks/attributes.30sH_1mL.js";import{t as lr,a as cr}from"../chunks/index.GZel0w3O.js";import{b as Lt}from"../chunks/input.-wl6lriZ.js";import{l as se,s as ke,p as ft}from"../chunks/props.99304sWr.js";import{s as fe}from"../chunks/slot.OnpEubfz.js";import{I as Ue}from"../chunks/Icon.y-RLRpp5.js";import{S as _e,P as xe,T as ye}from"../chunks/trash-2.BVg63cra.js";import{C as ae}from"../chunks/chevron-left.w1jSlWrp.js";import{b as Te}from"../chunks/this.N7eL1F-e.js";import{i as dr}from"../chunks/lifecycle.y4eQvxQa.js";import{S as ur}from"../chunks/search.DkdCteOt.js";import{w as fr}from"../chunks/index.AeigFpnP.js";import{C as De}from"../chunks/chevron-right.0fFRj5mE.js";import{c as mr}from"../chunks/svelte-component.su-nye_b.js";import{C as Re,a as vr,b as pr}from"../chunks/clock.FRcHJdi9.js";function gr(a,r,e){Fe&&Ze();var c=a,d=nr,l;Je(()=>{Xe(d,d=r())&&(l&&tr(l),l=er(()=>e(c)))}),Fe&&(c=rr)}function br(a,r){const e=se(r,["children","$$slots","$$events","$$legacy"]);Ue(a,ke({name:"check"},()=>e,{iconNode:[["path",{d:"M20 6 9 17l-5-5"}]],children:(d,l)=>{var i=Yt(),v=Mt(i);fe(v,r,"default",{},null),_(d,i)},$$slots:{default:!0}}))}function hr(a,r){const e=se(r,["children","$$slots","$$events","$$legacy"]);Ue(a,ke({name:"printer"},()=>e,{iconNode:[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"}]],children:(d,l)=>{var i=Yt(),v=Mt(i);fe(v,r,"default",{},null),_(d,i)},$$slots:{default:!0}}))}function _r(a,r){const e=se(r,["children","$$slots","$$events","$$legacy"]);Ue(a,ke({name:"refresh-cw"},()=>e,{iconNode:[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]],children:(d,l)=>{var i=Yt(),v=Mt(i);fe(v,r,"default",{},null),_(d,i)},$$slots:{default:!0}}))}function xr(a,r){const e=se(r,["children","$$slots","$$events","$$legacy"]);Ue(a,ke({name:"scale"},()=>e,{iconNode:[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"}],["path",{d:"M7 21h10"}],["path",{d:"M12 3v18"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2"}]],children:(d,l)=>{var i=Yt(),v=Mt(i);fe(v,r,"default",{},null),_(d,i)},$$slots:{default:!0}}))}function yr(a,r,e){r(t(e))}function wr(a,r,e,c,d,l){r(!1),e(!1),c(null),d(""),l(null),ir().then(()=>{window.print()})}var kr=(a,r,e)=>r.editRecipe(e()),Ur=C(`<div class="p-4 mb-6 rounded-md bg-blue-50"><h3 class="mb-2 text-lg font-medium text-blue-800 svelte-7w8uam">Scale Recipe</h3> <div class="flex items-center space-x-4"><input type="number" min="0.1" step="0.1" class="w-24 px-3 py-2 text-gray-700 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 svelte-7w8uam"> <button class="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Apply Scaling</button> <button class="px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 rounded-md hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Reset</button></div> <p class="mt-2 text-sm text-blue-600">Enter a number to scale the recipe. For example, 2 will double the recipe, 0.5 will
						halve it. You also able to scale based on ingredient constrain, just edit the
						ingredient's amount to adjust the recipe</p></div>`),Ir=C('<img class="object-cover w-full h-64 mb-4 rounded-lg shadow-md svelte-7w8uam">'),Cr=C("<p><strong>Frequency:</strong> </p>"),Sr=C("<p><strong>Food Cost:</strong> </p>"),Fr=C('<input type="text" class="w-24 px-2 py-1 text-sm text-gray-700 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500 svelte-7w8uam">'),Pr=C('<span class="text-sm text-gray-600"> </span>'),Er=C('<li class="flex items-center justify-between p-3 bg-white rounded-md shadow svelte-7w8uam"><span><span class="font-medium"> </span> <br> <!> <span class="text-sm text-gray-600"> </span></span> <button class="p-1 text-indigo-600 rounded-full hover:bg-indigo-100 print:hidden svelte-7w8uam" title="Convert unit"><!></button> <button class="p-1 text-purple-600 rounded-full hover:bg-purple-100" title="Standardize ingredient">Standardize</button></li>'),Tr=C('<div class="absolute left-0 mt-2 w-64 h-64 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-10"><img class="object-cover w-full h-full rounded-md shadow-lg"></div>'),Dr=C('<li class="relative p-4 bg-white rounded-md shadow-md transition-all duration-300 hover:shadow-lg group svelte-7w8uam"><span class="ml-2 cursor-pointer"> </span> <div class="absolute inset-y-0 right-0 flex items-center pr-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-300"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg></div> <!></li>'),Rr=C('<div class="mt-6"><h3 class="mb-2 text-xl font-semibold text-gray-800 svelte-7w8uam">Description</h3> <p class="text-gray-600"> </p></div>'),Br=(a,r)=>{a.key==="Escape"&&r.closeUnitConversion()},Mr=C("<option> </option>"),qr=C('<p class="mb-4"> </p> <div class="flex justify-end space-x-2"><button class="px-4 py-2 text-white bg-green-600 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500">Apply</button> <button class="px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500">Cancel</button></div>',1),jr=C('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50" role="dialog" aria-modal="true"><div class="p-6 bg-white rounded-lg shadow-xl modal-content svelte-7w8uam"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-900 svelte-7w8uam">Convert Unit</h3> <div class="text-gray-400 hover:text-gray-500 focus:outline-none" aria-label="Close modal"><svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></div></div> <p class="mb-4"> </p> <div class="flex mb-4 space-x-2"><select class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 svelte-7w8uam"><option>Select new unit</option><!></select> <button class="px-4 py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">Convert</button></div> <!></div></div>'),$r=C('<div class="overflow-hidden bg-white rounded-lg shadow-xl svelte-7w8uam"><div class="px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8 svelte-7w8uam"><div class="px-6 py-4 border-b border-gray-200 bg-gray-50 print:hidden svelte-7w8uam"><div class="flex items-center justify-between"><h2 class="text-3xl font-bold text-gray-800 svelte-7w8uam"> </h2> <div class="flex space-x-2"><button class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"><!> </button> <button class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-yellow-600 rounded-md hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500"><!> Edit</button> <button class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"><!> Print</button> <button class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500">Standardize Ingredients</button></div></div></div> <div class="px-6 py-6"><!> <div class="grid grid-cols-1 gap-6 md:grid-cols-3"><div class="md:col-span-1"><!> <div class="p-4 rounded-lg shadow-md bg-gray-50 svelte-7w8uam"><h3 class="mb-2 text-lg font-semibold text-gray-700 svelte-7w8uam">Recipe Details</h3> <p><strong>Servings:</strong> </p> <p><strong>Prep Time:</strong> </p> <p><strong>Cook Time:</strong> </p> <!> <!> <p><strong>Restaurant:</strong> </p> <p><strong>Cookbook:</strong> </p></div></div> <div class="md:col-span-1"><h3 class="mb-4 text-xl font-semibold text-gray-800 svelte-7w8uam">Ingredients</h3> <ul class="space-y-2"></ul></div> <div class="md:col-span-1"><h3 class="mb-4 text-xl font-semibold text-gray-800 svelte-7w8uam">Instructions</h3> <ol class="space-y-4 list-decimal list-inside"></ol> <!></div></div> <!> <div class="mt-8 print:hidden svelte-7w8uam"><button class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"><!> Back to List</button></div></div></div></div>');function Or(a,r){ee(r,!0);const e=He();let c=ft(r,"currentRecipe",15),d=ft(r,"isScaling",15),l=ft(r,"scaleFactor",15),i=ft(r,"isConvertingUnits",15),v=ft(r,"currentIngredientIndex",15),B=ft(r,"newUnit",15),b=ft(r,"convertedQuantity",15),I=V(1),$=[],tt=c().servings;function lt(){d(!0),$=c().ingredients.map(w=>({...w})),tt=c().servings}function K(){d(!1),$=c().ingredients.map(w=>({...w})),tt=c().servings,l(1),m(I,1)}function q(){c(c().ingredients=$.map(w=>({...w})),!0),c(c().servings=tt,!0),l(1),m(I,1)}function J(w){c(c().ingredients=$.map(g=>({...g,quantity:g.quantity*w})),!0),c(c().servings=Math.round(tt*w),!0),l(w)}function ot(w,g){if(g<=0)return;const Q=$[w].quantity,u=g/Q;J(u)}var ct=$r(),pt=o(ct),xt=o(pt),gt=o(xt),bt=o(gt),L=o(bt,!0);n(bt);var W=s(bt,2),z=o(W);z.__click=function(...w){var g;(g=d()?K:lt)==null||g.apply(this,w)};var O=o(z);xr(O,{class:"w-5 h-5 mr-2"});var G=s(O);n(z);var et=s(z,2);et.__click=[kr,r,c];var kt=o(et);_e(kt,{class:"w-5 h-5 mr-2"}),Dt(),n(et);var ht=s(et,2);ht.__click=[wr,d,i,v,B,b];var at=o(ht);hr(at,{class:"w-5 h-5 mr-2"}),Dt(),n(ht);var k=s(ht,2);k.__click=function(...w){var g;(g=r.standardizeIngredients)==null||g.apply(this,w)},n(W),n(gt),n(xt);var y=s(xt,2),P=o(y);X(P,d,w=>{var g=Ur(),Q=s(o(g),2),u=o(Q);Kt(u);var f=s(u,2);f.__click=[yr,J,I];var h=s(f,2);h.__click=q,n(Q),Dt(2),n(g),Lt(u,()=>t(I),N=>m(I,N)),_(w,g)});var x=s(P,2),S=o(x),D=o(S);X(D,()=>c().imageUrl,w=>{var g=Ir();R(()=>{Xt(g,"src",c().imageUrl),Xt(g,"alt",c().name)}),_(w,g)});var j=s(D,2),A=s(o(j),2),T=s(o(A));n(A);var st=s(A,2),yt=s(o(st));n(st);var rt=s(st,2),H=s(o(rt));n(rt);var nt=s(rt,2);X(nt,()=>c().frequency!==null,w=>{var g=Cr(),Q=s(o(g));n(g),R(()=>F(Q,` ${c().frequency??""}`)),_(w,g)});var it=s(nt,2);X(it,()=>c().foodCost,w=>{var g=Sr(),Q=s(o(g));n(g),R(()=>F(Q,` $${c().foodCost??""}`)),_(w,g)});var wt=s(it,2),Gt=s(o(wt));R(()=>{var w;return F(Gt,` ${((w=r.restaurants.find(g=>g.id===c().restaurantId))==null?void 0:w.name)??""}`)}),n(wt);var Pt=s(wt,2),Nt=s(o(Pt));R(()=>{var w;return F(Nt,` ${((w=r.cookBooks.find(g=>g.id===c().cookBookId))==null?void 0:w.name)??""}`)}),n(Pt),n(j),n(S);var qt=s(S,2),Wt=s(o(qt),2);Ft(Wt,23,()=>c().ingredients,w=>w.ingredientId,(w,g,Q)=>{var u=Er(),f=o(u),h=o(f),N=o(h,!0);R(()=>{var Et;return F(N,(Et=r.ingredientsList.find(ut=>ut.id===t(g).ingredientId))==null?void 0:Et.name)}),n(h);var Y=s(h,4);X(Y,d,Et=>{var ut=Fr();Kt(ut),ut.__input=Z=>ot(t(Q),parseFloat(Z.currentTarget.value)),Lt(ut,()=>t(g).quantity,Z=>t(g).quantity=Z),_(Et,ut)},Et=>{var ut=Pr(),Z=o(ut,!0);R(()=>F(Z,t(g).quantity.toFixed(2))),n(ut),_(Et,ut)});var U=s(Y,2),dt=o(U,!0);n(U),n(f);var vt=s(f,2);vt.__click=()=>r.openUnitConversion(t(Q));var St=o(vt);_r(St,{class:"w-5 h-5"}),n(vt);var At=s(vt,2);At.__click=()=>r.startStandardization(t(Q)),n(u),R(()=>F(dt,t(g).unit)),_(w,u)}),n(Wt),n(qt);var jt=s(qt,2),Ut=s(o(jt),2);Ft(Ut,21,()=>c().instructions,w=>w.id,(w,g)=>{var Q=Dr(),u=o(Q),f=o(u,!0);n(u);var h=s(u,4);X(h,()=>t(g).imageUrl,N=>{var Y=Yt(),U=Mt(Y);gr(U,()=>t(g).imageUrl,dt=>{var vt=Tr(),St=o(vt);n(vt),R(()=>{Xt(St,"src",t(g).imageUrl),Xt(St,"alt",t(g).instruction)}),lr(3,St,()=>cr,()=>({duration:300})),_(dt,vt)}),_(N,Y)}),n(Q),R(()=>F(f,t(g).instruction)),_(w,Q)}),n(Ut);var Ht=s(Ut,2);X(Ht,()=>c().description,w=>{var g=Rr(),Q=s(o(g),2),u=o(Q,!0);n(Q),n(g),R(()=>F(u,c().description)),_(w,g)}),n(jt),n(x);var p=s(x,2);X(p,()=>i()&&v()!==null,w=>{var g=jr();g.__click=function(...ut){var Z;(Z=r.handleClickOutside)==null||Z.apply(this,ut)},g.__keydown=[Br,r];var Q=o(g),u=It(()=>Le(e("click")));Q.__click=function(...ut){var Z;(Z=t(u))==null||Z.apply(this,ut)};var f=o(Q),h=s(o(f),2);h.__click=function(...ut){var Z;(Z=r.closeUnitConversion)==null||Z.apply(this,ut)},n(f);var N=s(f,2),Y=o(N);R(()=>F(Y,`Current: ${c().ingredients[v()].quantity.toFixed(2)??""}
							${c().ingredients[v()].unit??""}`)),n(N);var U=s(N,2),dt=o(U),vt=o(dt);vt.value=((vt.__value="")==null,"");var St=s(vt);Ft(St,17,()=>r.allUnits,Ot,(ut,Z)=>{var Rt=Mr(),Tt={},Bt=o(Rt,!0);n(Rt),R(()=>{Tt!==(Tt=t(Z))&&(Rt.value=(Rt.__value=t(Z))==null?"":t(Z)),F(Bt,t(Z))}),_(ut,Rt)}),n(dt);var At=s(dt,2);At.__click=function(...ut){var Z;(Z=r.convertUnit)==null||Z.apply(this,ut)},n(U);var Et=s(U,2);X(Et,()=>b()!==null,ut=>{var Z=qr(),Rt=Mt(Z),Tt=o(Rt);R(()=>F(Tt,`Converted: ${b().toFixed(2)??""}
								${B()??""}`)),n(Rt);var Bt=s(Rt,2),$t=o(Bt);$t.__click=function(...zt){var Zt;(Zt=r.applyUnitConversion)==null||Zt.apply(this,zt)};var Qt=s($t,2);Qt.__click=function(...zt){var Zt;(Zt=r.closeUnitConversion)==null||Zt.apply(this,zt)},n(Bt),_(ut,Z)}),n(Q),n(g),oe(dt,B),_(w,g)});var M=s(p,2),_t=o(M);_t.__click=function(...w){var g;(g=r.goBack)==null||g.apply(this,w)};var Ct=o(_t);ae(Ct,{class:"w-5 h-5 mr-2"}),Dt(),n(_t),n(M),n(y),n(pt),n(ct),R(()=>{F(L,c().name),F(G,` ${(d()?"Cancel Scaling":"Scale Recipe")??""}`),F(T,` ${c().servings??""}`),F(yt,` ${c().prepTime??""} mins`),F(H,` ${c().cookTime??""} mins`)}),_(a,ct),re()}ne(["click","input","keydown"]);function le(a,r,e,c){function d(l){return l instanceof e?l:new e(function(i){i(l)})}return new(e||(e=Promise))(function(l,i){function v(I){try{b(c.next(I))}catch($){i($)}}function B(I){try{b(c.throw(I))}catch($){i($)}}function b(I){I.done?l(I.value):d(I.value).then(v,B)}b((c=c.apply(a,r||[])).next())})}function ce(a,r){var e={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},c,d,l,i;return i={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function v(b){return function(I){return B([b,I])}}function B(b){if(c)throw new TypeError("Generator is already executing.");for(;i&&(i=0,b[0]&&(e=0)),e;)try{if(c=1,d&&(l=b[0]&2?d.return:b[0]?d.throw||((l=d.return)&&l.call(d),0):d.next)&&!(l=l.call(d,b[1])).done)return l;switch(d=0,l&&(b=[b[0]&2,l.value]),b[0]){case 0:case 1:l=b;break;case 4:return e.label++,{value:b[1],done:!1};case 5:e.label++,d=b[1],b=[0];continue;case 7:b=e.ops.pop(),e.trys.pop();continue;default:if(l=e.trys,!(l=l.length>0&&l[l.length-1])&&(b[0]===6||b[0]===2)){e=0;continue}if(b[0]===3&&(!l||b[1]>l[0]&&b[1]<l[3])){e.label=b[1];break}if(b[0]===6&&e.label<l[1]){e.label=l[1],l=b;break}if(l&&e.label<l[2]){e.label=l[2],e.ops.push(b);break}l[2]&&e.ops.pop(),e.trys.pop();continue}b=r.call(a,e)}catch(I){b=[6,I],d=0}finally{c=l=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}}function Be(a,r){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var c=e.call(a),d,l=[],i;try{for(;(r===void 0||r-- >0)&&!(d=c.next()).done;)l.push(d.value)}catch(v){i={error:v}}finally{try{d&&!d.done&&(e=c.return)&&e.call(c)}finally{if(i)throw i.error}}return l}function Me(a,r,e){if(e||arguments.length===2)for(var c=0,d=r.length,l;c<d;c++)(l||!(c in r))&&(l||(l=Array.prototype.slice.call(r,0,c)),l[c]=r[c]);return a.concat(l||Array.prototype.slice.call(r))}var Nr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function me(a,r){var e=Ar(a);if(typeof e.path!="string"){var c=a.webkitRelativePath;Object.defineProperty(e,"path",{value:typeof r=="string"?r:typeof c=="string"&&c.length>0?c:a.name,writable:!1,configurable:!1,enumerable:!0})}return e}function Ar(a){var r=a.name,e=r&&r.lastIndexOf(".")!==-1;if(e&&!a.type){var c=r.split(".").pop().toLowerCase(),d=Nr.get(c);d&&Object.defineProperty(a,"type",{value:d,writable:!1,configurable:!1,enumerable:!0})}return a}var zr=[".DS_Store","Thumbs.db"];function Lr(a){return le(this,void 0,void 0,function(){return ce(this,function(r){return we(a)&&Vr(a.dataTransfer)?[2,Kr(a.dataTransfer,a.type)]:Gr(a)?[2,Qr(a)]:Array.isArray(a)&&a.every(function(e){return"getFile"in e&&typeof e.getFile=="function"})?[2,Hr(a)]:[2,[]]})})}function Vr(a){return we(a)}function Gr(a){return we(a)&&we(a.target)}function we(a){return typeof a=="object"&&a!==null}function Qr(a){return Ce(a.target.files).map(function(r){return me(r)})}function Hr(a){return le(this,void 0,void 0,function(){var r;return ce(this,function(e){switch(e.label){case 0:return[4,Promise.all(a.map(function(c){return c.getFile()}))];case 1:return r=e.sent(),[2,r.map(function(c){return me(c)})]}})})}function Kr(a,r){return le(this,void 0,void 0,function(){var e,c;return ce(this,function(d){switch(d.label){case 0:return a.items?(e=Ce(a.items).filter(function(l){return l.kind==="file"}),r!=="drop"?[2,e]:[4,Promise.all(e.map(Wr))]):[3,2];case 1:return c=d.sent(),[2,qe(Ke(c))];case 2:return[2,qe(Ce(a.files).map(function(l){return me(l)}))]}})})}function qe(a){return a.filter(function(r){return zr.indexOf(r.name)===-1})}function Ce(a){if(a===null)return[];for(var r=[],e=0;e<a.length;e++){var c=a[e];r.push(c)}return r}function Wr(a){if(typeof a.webkitGetAsEntry!="function")return je(a);var r=a.webkitGetAsEntry();return r&&r.isDirectory?We(r):je(a)}function Ke(a){return a.reduce(function(r,e){return Me(Me([],Be(r),!1),Be(Array.isArray(e)?Ke(e):[e]),!1)},[])}function je(a){var r=a.getAsFile();if(!r)return Promise.reject("".concat(a," is not a File"));var e=me(r);return Promise.resolve(e)}function Yr(a){return le(this,void 0,void 0,function(){return ce(this,function(r){return[2,a.isDirectory?We(a):Zr(a)]})})}function We(a){var r=a.createReader();return new Promise(function(e,c){var d=[];function l(){var i=this;r.readEntries(function(v){return le(i,void 0,void 0,function(){var B,b,I;return ce(this,function($){switch($.label){case 0:if(v.length)return[3,5];$.label=1;case 1:return $.trys.push([1,3,,4]),[4,Promise.all(d)];case 2:return B=$.sent(),e(B),[3,4];case 3:return b=$.sent(),c(b),[3,4];case 4:return[3,6];case 5:I=Promise.all(v.map(Yr)),d.push(I),l(),$.label=6;case 6:return[2]}})})},function(v){c(v)})}l()})}function Zr(a){return le(this,void 0,void 0,function(){return ce(this,function(r){return[2,new Promise(function(e,c){a.file(function(d){var l=me(d,a.fullPath);e(l)},function(d){c(d)})})]})})}function Jr(a,r){if(a&&r){const e=Array.isArray(r)?r:r.split(","),c=a.name||"",d=(a.type||"").toLowerCase(),l=d.replace(/\/.*$/,"");return e.some(i=>{const v=i.trim().toLowerCase();return v.charAt(0)==="."?c.toLowerCase().endsWith(v):v.endsWith("/*")?l===v.replace(/\/.*$/,""):d===v})}return!0}const Xr="file-invalid-type",tn="file-too-large",en="file-too-small",rn="too-many-files",nn=a=>{a=Array.isArray(a)&&a.length===1?a[0]:a;const r=Array.isArray(a)?`one of ${a.join(", ")}`:a;return{code:Xr,message:`File type must be ${r}`}},$e=a=>({code:tn,message:`File is larger than ${a} bytes`}),Oe=a=>({code:en,message:`File is smaller than ${a} bytes`}),on={code:rn,message:"Too many files"};function an(a,r){const e=a.type==="application/x-moz-file"||Jr(a,r);return[e,e?null:nn(r)]}function sn(a,r,e){if(ue(a.size))if(ue(r)&&ue(e)){if(a.size>e)return[!1,$e(e)];if(a.size<r)return[!1,Oe(r)]}else{if(ue(r)&&a.size<r)return[!1,Oe(r)];if(ue(e)&&a.size>e)return[!1,$e(e)]}return[!0,null]}function ue(a){return a!=null}function Ne(a){return typeof a.isPropagationStopped=="function"?a.isPropagationStopped():typeof a.cancelBubble<"u"?a.cancelBubble:!1}function be(a){return a.dataTransfer?Array.prototype.some.call(a.dataTransfer.types,r=>r==="Files"||r==="application/x-moz-file"):!!a.target&&!!a.target.files}function ln(a){return a.indexOf("MSIE")!==-1||a.indexOf("Trident/")!==-1}function cn(a){return a.indexOf("Edge/")!==-1}function dn(a=window.navigator.userAgent){return ln(a)||cn(a)}var un=C("<p> </p>"),fn=C('<div><input type="file" autocomplete="off" tabindex="-1" style="display: none;"> <!></div>');function mn(a,r){const e=se(r,["children","$$slots","$$events","$$legacy"]),c=se(e,["accept","disabled","getFilesFromEvent","maxSize","minSize","multiple","preventDropOnDocument","noClick","noKeyboard","noDrag","noDragEventsBubbling","containerClasses","containerStyles","disableDefaultStyles","name","inputElement","required"]);ee(r,!1);const d=de(),l=de(),i=de(),v=de();let B=ft(r,"accept",8,void 0),b=ft(r,"disabled",8,!1),I=ft(r,"getFilesFromEvent",8,Lr),$=ft(r,"maxSize",8,1/0),tt=ft(r,"minSize",8,0),lt=ft(r,"multiple",8,!0),K=ft(r,"preventDropOnDocument",8,!0),q=ft(r,"noClick",8,!1),J=ft(r,"noKeyboard",8,!1),ot=ft(r,"noDrag",8,!1),ct=ft(r,"noDragEventsBubbling",8,!1),pt=ft(r,"containerClasses",8,""),xt=ft(r,"containerStyles",8,""),gt=ft(r,"disableDefaultStyles",8,!1),bt=ft(r,"name",8,""),L=ft(r,"inputElement",12,void 0),W=ft(r,"required",8,!1);const z=Ge();let O={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]},G=de();function et(){O.isFileDialogActive=!1,O.isDragActive=!1,O.draggedFiles=[],O.acceptedFiles=[],O.fileRejections=[]}function kt(){L()&&(L(L().value=null,!0),O.isFileDialogActive=!0,L().click())}function ht(p){!t(G)||!t(G).isEqualNode(p.target)||(p.keyCode===32||p.keyCode===13)&&(p.preventDefault(),kt())}function at(){O.isFocused=!0}function k(){O.isFocused=!1}function y(){q()||(dn()?setTimeout(kt,0):kt())}function P(p){p.preventDefault(),j(p),T=[...T,p.target],be(p)&&Promise.resolve(I()(p)).then(M=>{Ne(p)&&!ct()||(O.draggedFiles=M,O.isDragActive=!0,z("dragenter",{dragEvent:p}))})}function x(p){if(p.preventDefault(),j(p),p.dataTransfer)try{p.dataTransfer.dropEffect="copy"}catch{}return be(p)&&z("dragover",{dragEvent:p}),!1}function S(p){p.preventDefault(),j(p);const M=T.filter(Ct=>t(G)&&t(G).contains(Ct)),_t=M.indexOf(p.target);_t!==-1&&M.splice(_t,1),T=M,!(M.length>0)&&(O.isDragActive=!1,O.draggedFiles=[],be(p)&&z("dragleave",{dragEvent:p}))}function D(p){p.preventDefault(),j(p),T=[],be(p)&&(z("filedropped",{event:p}),Promise.resolve(I()(p)).then(M=>{if(Ne(p)&&!ct())return;const _t=[],Ct=[];M.forEach(w=>{const[g,Q]=an(w,B()),[u,f]=sn(w,tt(),$());if(g&&u)_t.push(w);else{const h=[Q,f].filter(N=>N);Ct.push({file:w,errors:h})}}),!lt()&&_t.length>1&&(_t.forEach(w=>{Ct.push({file:w,errors:[on]})}),_t.splice(0)),p.dataTransfer&&L(L().files=p.dataTransfer.files,!0),O.acceptedFiles=_t,O.fileRejections=Ct,z("drop",{acceptedFiles:_t,fileRejections:Ct,event:p}),Ct.length>0&&z("droprejected",{fileRejections:Ct,event:p}),_t.length>0&&z("dropaccepted",{acceptedFiles:_t,event:p})})),et()}function j(p){ct()&&p.stopPropagation()}function A(p){K()&&p.preventDefault()}let T=[];function st(p){K()&&(t(G)&&t(G).contains(p.target)||(p.preventDefault(),T=[]))}function yt(){O.isFileDialogActive&&setTimeout(()=>{if(L()){const{files:p}=L();p.length||(O.isFileDialogActive=!1,z("filedialogcancel"))}},300)}ar(()=>{L(null)});function rt(p){p.stopPropagation()}ve(()=>pe(b()),()=>{m(d,p=>b()?null:p)}),ve(()=>(pe(J()),t(d)),()=>{m(l,p=>J()?null:t(d)(p))}),ve(()=>(pe(ot()),t(d)),()=>{m(i,p=>ot()?null:t(d)(p))}),ve(()=>pe(lt()),()=>{m(v,lt()?"Drag 'n' drop some files here, or click to select files":"Drag 'n' drop a file here, or click to select a file")}),or(),dr();var H=fn();mt("focus",Ie,yt),mt("dragover",Ie,A),mt("drop",Ie,st);var nt=It(()=>t(l)(ht)),it=It(()=>t(l)(at)),wt=It(()=>t(l)(k)),Gt=It(()=>t(d)(y)),Pt=It(()=>t(i)(P)),Nt=It(()=>t(i)(x)),qt=It(()=>t(i)(S)),Wt=It(()=>t(i)(D));let jt;var Ut=o(H);R(()=>{var p;return Xt(Ut,"accept",(p=B())==null?void 0:p.toString())}),Te(Ut,p=>L(p),()=>L());var Ht=s(Ut,2);fe(Ht,r,"default",{},p=>{var M=un(),_t=o(M,!0);n(M),R(()=>F(_t,t(v))),_(p,M)}),n(H),Te(H,p=>m(G,p),()=>t(G)),R(()=>{jt=sr(H,jt,{tabindex:"0",role:"button",class:`${(gt()?"":"dropzone")??""}
  ${pt()??""}`,style:xt(),...c},"svelte-817dg2"),Ut.multiple=lt(),Ut.required=W(),Xt(Ut,"name",bt())}),mt("change",Ut,D),mt("click",Ut,rt),mt("keydown",H,function(...p){var M;(M=t(nt))==null||M.apply(this,p)}),mt("focus",H,function(...p){var M;(M=t(it))==null||M.apply(this,p)}),mt("blur",H,function(...p){var M;(M=t(wt))==null||M.apply(this,p)}),mt("click",H,function(...p){var M;(M=t(Gt))==null||M.apply(this,p)}),mt("dragenter",H,function(...p){var M;(M=t(Pt))==null||M.apply(this,p)}),mt("dragover",H,function(...p){var M;(M=t(Nt))==null||M.apply(this,p)}),mt("dragleave",H,function(...p){var M;(M=t(qt))==null||M.apply(this,p)}),mt("drop",H,function(...p){var M;(M=t(Wt))==null||M.apply(this,p)}),_(a,H),re()}var vn=C('<p class="text-sm text-red-600"> </p>'),pn=C('<div class="p-4 mb-6 bg-red-50 rounded-md"></div>'),gn=C("<option> </option>"),bn=C("<option> </option>"),hn=C("<option> </option>"),_n=C('<span class="text-sm font-medium text-gray-900"> </span>'),xn=C('<div class="flex items-center gap-4 p-3 bg-white rounded-md"><div class="flex-1"><select class="w-full border-gray-300 rounded-md"><option>Select ingredient</option><!></select></div> <input type="number" min="0" step="0.01" class="w-24 border-gray-300 rounded-md" placeholder="Qty"> <input type="text" class="w-24 border-gray-300 rounded-md" placeholder="Unit"> <!> <button type="button" class="p-1 text-red-600 hover:text-red-800"><!></button></div>'),yn=C('<div class="mt-4 text-sm text-gray-600"> </div>'),wn=C('<div class="flex items-start gap-4 p-3 bg-white rounded-md"><div class="flex items-center justify-center w-8 h-8 text-white bg-indigo-600 rounded-full shrink-0"></div> <div class="flex-1"><textarea rows="2" class="w-full border-gray-300 rounded-md" placeholder="Describe this step..."></textarea></div> <button type="button" class="p-1 mt-2 text-red-600 hover:text-red-800"><!></button></div>'),kn=C('<div class="space-y-6"><div class="grid gap-6 p-6 bg-gray-50 rounded-lg md:grid-cols-2"><div class="space-y-4"><div><label for="name" class="block text-sm font-medium text-gray-700">Recipe Name <span class="text-red-500">*</span></label> <input type="text" id="name" class="w-full mt-1 border-gray-300 rounded-md" placeholder="Enter recipe name"></div> <div><label for="servings" class="block text-sm font-medium text-gray-700">Servings <span class="text-red-500">*</span></label> <input type="number" id="servings" min="1" class="w-full mt-1 border-gray-300 rounded-md"></div> <div><label for="description" class="block text-sm font-medium text-gray-700">Description</label> <textarea id="description" rows="3" class="w-full mt-1 border-gray-300 rounded-md" placeholder="Describe your recipe"></textarea></div></div> <div class="space-y-4"><label class="block text-sm font-medium text-gray-700">Recipe Image</label> <!> <div class="grid grid-cols-2 gap-4"><div><label for="restaurantId" class="block text-sm font-medium text-gray-700">Restaurant</label> <select id="restaurantId" class="w-full mt-1 border-gray-300 rounded-md"><option>Select restaurant</option><!></select></div> <div><label for="cookBookId" class="block text-sm font-medium text-gray-700">Cookbook</label> <select id="cookBookId" class="w-full mt-1 border-gray-300 rounded-md"><option>Select cookbook</option><!></select></div></div></div></div> <div class="p-6 bg-gray-50 rounded-lg"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-700">Ingredients <span class="text-red-500">*</span></h3> <button type="button" class="inline-flex items-center px-3 py-2 text-sm text-indigo-700 bg-indigo-100 rounded-md hover:bg-indigo-200"><!> Add Ingredient</button></div> <div class="space-y-3"></div> <!></div> <div class="p-6 bg-gray-50 rounded-lg"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-700">Instructions <span class="text-red-500">*</span></h3> <button type="button" class="inline-flex items-center px-3 py-2 text-sm text-indigo-700 bg-indigo-100 rounded-md hover:bg-indigo-200"><!> Add Step</button></div> <div class="space-y-3"></div></div></div>'),Un=C('<div class="mt-4"><dt class="text-sm text-gray-600">Description:</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div>'),In=C('<div class="flex items-center justify-between p-3 bg-white rounded-md"><span class="text-sm text-gray-900"><span class="font-medium"> </span> </span> <span class="text-sm font-medium text-gray-600"> </span></div>'),Cn=C('<li class="flex gap-3 p-3 bg-white rounded-md"><span class="flex items-center justify-center w-6 h-6 text-sm text-white bg-indigo-600 rounded-full shrink-0"></span> <span class="text-sm text-gray-900"> </span></li>'),Sn=C('<div class="space-y-6"><div class="grid gap-6 md:grid-cols-2"><div class="p-6 bg-gray-50 rounded-lg"><h3 class="mb-4 text-lg font-medium text-gray-700">Recipe Details</h3> <dl class="grid grid-cols-2 gap-2"><dt class="text-sm text-gray-600">Name:</dt> <dd class="text-sm font-medium text-gray-900"> </dd> <dt class="text-sm text-gray-600">Servings:</dt> <dd class="text-sm font-medium text-gray-900"> </dd> <dt class="text-sm text-gray-600">Estimated Time:</dt> <dd class="text-sm font-medium text-gray-900"> </dd> <dt class="text-sm text-gray-600">Restaurant:</dt> <dd class="text-sm font-medium text-gray-900"> </dd> <dt class="text-sm text-gray-600">Cookbook:</dt> <dd class="text-sm font-medium text-gray-900"> </dd></dl> <!></div> <div class="p-6 bg-gray-50 rounded-lg"><h3 class="mb-4 text-lg font-medium text-gray-700">Cost Summary</h3> <div class="space-y-4"><div class="p-4 bg-white rounded-lg"><p class="text-sm text-gray-600">Total Ingredient Cost</p> <p class="text-2xl font-bold text-indigo-600"> </p></div> <div class="p-4 bg-white rounded-lg"><p class="text-sm text-gray-600">Cost per Serving</p> <p class="text-xl font-semibold text-indigo-600"> </p></div></div></div></div> <div class="p-6 bg-gray-50 rounded-lg"><h3 class="mb-4 text-lg font-medium text-gray-700">Ingredients</h3> <div class="grid gap-2 md:grid-cols-2"></div></div> <div class="p-6 bg-gray-50 rounded-lg"><h3 class="mb-4 text-lg font-medium text-gray-700">Instructions</h3> <ol class="space-y-3"></ol></div></div>'),Fn=C('<button type="button" class="inline-flex items-center px-4 py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Review Recipe <!></button>'),Pn=C('<div class="flex gap-3"><button type="button" class="inline-flex items-center px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"><!> Edit Recipe</button> <button type="submit" class="inline-flex items-center px-6 py-2 text-white bg-green-600 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"><!> Save Recipe</button></div>'),En=C('<div class="max-w-4xl p-8 mx-auto bg-white rounded-lg shadow-md"><div class="flex items-center justify-between mb-6"><h2 class="text-2xl font-semibold text-gray-800"><!></h2> <button class="inline-flex items-center px-3 py-2 text-gray-700 transition bg-gray-200 rounded-md hover:bg-gray-300"><!> </button></div> <!> <form class="space-y-6"><!> <div class="flex justify-end pt-6 mt-8 border-t"><!></div></form></div>');function Tn(a,r){ee(r,!0);let e=ft(r,"currentRecipe",15),c=V(E([])),d=V(!1),l=E({accepted:[],rejected:[]}),i=It(()=>{var k,y;return((k=e())==null?void 0:k.prepTime)+((y=e())==null?void 0:y.cookTime)||0}),v=It(I),B=It(()=>{var k;return(k=e())!=null&&k.servings?t(v)/e().servings:0});function b(){var P,x;let k=((P=e().ingredients)==null?void 0:P.length)*2||0,y=15;(x=e().instructions)!=null&&x.length&&(y+=e().instructions.length*5),e(e().prepTime=k,!0),e(e().cookTime=y,!0)}function I(){var k;return(k=e())!=null&&k.ingredients?e().ingredients.reduce((y,P)=>{const x=r.ingredientsList.find(S=>S.id===P.ingredientId);return y+((x==null?void 0:x.price)||0)*P.quantity},0):0}function $(){e(e().ingredients=[...e().ingredients,{ingredientId:"",quantity:1,unit:"unit"}],!0),b()}function tt(k){e(e().ingredients=e().ingredients.filter((y,P)=>P!==k),!0),b()}function lt(){e(e().instructions=[...e().instructions,{instruction:"",stepNumber:e().instructions.length+1}],!0),b()}function K(k){e(e().instructions=e().instructions.filter((y,P)=>P!==k).map((y,P)=>({...y,stepNumber:P+1})),!0),b()}async function q(k){const{acceptedFiles:y,fileRejections:P}=k.detail;l.accepted=[...l.accepted,...y],l.rejected=[...l.rejected,...P];for(const x of y)await J(x)}async function J(k){const y=new FormData;y.append("image",k);try{const P=await Vt.recipe.uploadFileS3({body:y});P.status===200&&e(e().imageUrl=[...e().imageUrl||[],P.body.url],!0)}catch(P){console.error(`Error uploading file: ${P}`),m(c,E([...t(c),`Failed to upload ${k.name}`]))}}function ot(){var y,P,x;const k=[];return(y=e().name)!=null&&y.trim()||k.push("Recipe name is required"),(!e().servings||e().servings<1)&&k.push("Please specify number of servings"),(P=e().ingredients)!=null&&P.length||k.push("Add at least one ingredient"),(x=e().instructions)!=null&&x.length||k.push("Add at least one instruction"),m(c,E(k)),k.length===0}function ct(){ot()&&m(d,!0)}var pt=En(),xt=o(pt),gt=o(xt),bt=o(gt);X(bt,()=>t(d),k=>{var y=Pe("Review Recipe");_(k,y)},k=>{var y=Pe();R(()=>F(y,r.currentView==="create"?"Create New Recipe":"Edit Recipe")),_(k,y)}),n(gt);var L=s(gt,2),W=o(L);ae(W,{class:"w-4 h-4 mr-1"});var z=s(W);n(L),n(xt);var O=s(xt,2);X(O,()=>t(c).length>0,k=>{var y=pn();Ft(y,21,()=>t(c),Ot,(P,x)=>{var S=vn(),D=o(S,!0);n(S),R(()=>F(D,t(x))),_(P,S)}),n(y),_(k,y)});var G=s(O,2),et=It(()=>Ve(r.handleSubmit)),kt=o(G);X(kt,()=>!t(d),k=>{var y=kn(),P=o(y),x=o(P),S=o(x),D=s(o(S),2);Kt(D),n(S);var j=s(S,2),A=s(o(j),2);Kt(A),n(j);var T=s(j,2),st=s(o(T),2);Ee(st),n(T),n(x);var yt=s(x,2),rt=s(o(yt),2);mn(rt,{class:"h-40 border-2 border-dashed border-gray-300 rounded-md",$$events:{drop:q}});var H=s(rt,2),nt=o(H),it=s(o(nt),2),wt=o(it);wt.value=((wt.__value="")==null,"");var Gt=s(wt);Ft(Gt,17,()=>r.restaurants,Ot,(f,h)=>{var N=gn(),Y={},U=o(N,!0);n(N),R(()=>{Y!==(Y=t(h).id)&&(N.value=(N.__value=t(h).id)==null?"":t(h).id),F(U,t(h).name)}),_(f,N)}),n(it),n(nt);var Pt=s(nt,2),Nt=s(o(Pt),2),qt=o(Nt);qt.value=((qt.__value="")==null,"");var Wt=s(qt);Ft(Wt,17,()=>r.cookBooks,Ot,(f,h)=>{var N=bn(),Y={},U=o(N,!0);n(N),R(()=>{Y!==(Y=t(h).id)&&(N.value=(N.__value=t(h).id)==null?"":t(h).id),F(U,t(h).name)}),_(f,N)}),n(Nt),n(Pt),n(H),n(yt),n(P);var jt=s(P,2),Ut=o(jt),Ht=s(o(Ut),2),p=o(Ht);xe(p,{class:"w-4 h-4 mr-1"}),Dt(),n(Ht),n(Ut);var M=s(Ut,2);Ft(M,21,()=>e().ingredients,Ot,(f,h,N)=>{var Y=xn(),U=o(Y),dt=o(U),vt=o(dt);vt.value=((vt.__value="")==null,"");var St=s(vt);Ft(St,17,()=>r.ingredientsList,Ot,(Tt,Bt)=>{var $t=hn(),Qt={},zt=o($t,!0);n($t),R(()=>{Qt!==(Qt=t(Bt).id)&&($t.value=($t.__value=t(Bt).id)==null?"":t(Bt).id),F(zt,t(Bt).name)}),_(Tt,$t)}),n(dt),n(U);var At=s(U,2);Kt(At);var Et=s(At,2);Kt(Et);var ut=s(Et,2);X(ut,()=>t(h).ingredientId,Tt=>{var Bt=_n(),$t=o(Bt,!0);R(()=>{var Qt;return F($t,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format((((Qt=r.ingredientsList.find(zt=>zt.id===t(h).ingredientId))==null?void 0:Qt.price)||0)*t(h).quantity))}),n(Bt),_(Tt,Bt)});var Z=s(ut,2),Rt=o(Z);ye(Rt,{class:"w-4 h-4"}),n(Z),n(Y),oe(dt,()=>t(h).ingredientId,Tt=>t(h).ingredientId=Tt),Lt(At,()=>t(h).quantity,Tt=>t(h).quantity=Tt),Lt(Et,()=>t(h).unit,Tt=>t(h).unit=Tt),mt("click",Z,()=>tt(N)),_(f,Y)}),n(M);var _t=s(M,2);X(_t,()=>{var f;return((f=e().ingredients)==null?void 0:f.length)>0},f=>{var h=yn();const N=It(()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t(v))??""),Y=It(()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t(B))??"");var U=o(h);R(()=>F(U,`Total Cost: ${t(N)}
							| Per Serving: ${t(Y)}`)),n(h),_(f,h)}),n(jt);var Ct=s(jt,2),w=o(Ct),g=s(o(w),2),Q=o(g);xe(Q,{class:"w-4 h-4 mr-1"}),Dt(),n(g),n(w);var u=s(w,2);Ft(u,21,()=>e().instructions,Ot,(f,h,N)=>{var Y=wn(),U=o(Y);U.textContent=N+1;var dt=s(U,2),vt=o(dt);Ee(vt),n(dt);var St=s(dt,2),At=o(St);ye(At,{class:"w-4 h-4"}),n(St),n(Y),Lt(vt,()=>t(h).instruction,Et=>t(h).instruction=Et),mt("click",St,()=>K(N)),_(f,Y)}),n(u),n(Ct),n(y),Lt(D,()=>e().name,f=>e(e().name=f,!0)),Lt(A,()=>e().servings,f=>e(e().servings=f,!0)),Lt(st,()=>e().description,f=>e(e().description=f,!0)),oe(it,()=>e().restaurantId,f=>e(e().restaurantId=f,!0)),oe(Nt,()=>e().cookBookId,f=>e(e().cookBookId=f,!0)),mt("click",Ht,$),mt("click",g,lt),_(k,y)},k=>{var y=Sn(),P=o(y),x=o(P),S=s(o(x),2),D=s(o(S),2),j=o(D,!0);n(D);var A=s(D,4),T=o(A,!0);n(A);var st=s(A,4),yt=o(st);n(st);var rt=s(st,4),H=o(rt,!0);R(()=>{var w;return F(H,((w=r.restaurants.find(g=>g.id===e().restaurantId))==null?void 0:w.name)||"None")}),n(rt);var nt=s(rt,4),it=o(nt,!0);R(()=>{var w;return F(it,((w=r.cookBooks.find(g=>g.id===e().cookBookId))==null?void 0:w.name)||"None")}),n(nt),n(S);var wt=s(S,2);X(wt,()=>e().description,w=>{var g=Un(),Q=s(o(g),2),u=o(Q,!0);n(Q),n(g),R(()=>F(u,e().description)),_(w,g)}),n(x);var Gt=s(x,2),Pt=s(o(Gt),2),Nt=o(Pt),qt=s(o(Nt),2),Wt=o(qt,!0);R(()=>F(Wt,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t(v)))),n(qt),n(Nt);var jt=s(Nt,2),Ut=s(o(jt),2),Ht=o(Ut,!0);R(()=>F(Ht,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t(B)))),n(Ut),n(jt),n(Pt),n(Gt),n(P);var p=s(P,2),M=s(o(p),2);Ft(M,21,()=>e().ingredients,Ot,(w,g)=>{var Q=In(),u=o(Q),f=o(u),h=o(f);n(f);var N=s(f);R(()=>{var dt;return F(N,` ${((dt=r.ingredientsList.find(vt=>vt.id===t(g).ingredientId))==null?void 0:dt.name)??""}`)}),n(u);var Y=s(u,2),U=o(Y,!0);R(()=>{var dt;return F(U,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format((((dt=r.ingredientsList.find(vt=>vt.id===t(g).ingredientId))==null?void 0:dt.price)||0)*t(g).quantity))}),n(Y),n(Q),R(()=>F(h,`${t(g).quantity??""}
										${t(g).unit??""}`)),_(w,Q)}),n(M),n(p);var _t=s(p,2),Ct=s(o(_t),2);Ft(Ct,21,()=>e().instructions,Ot,(w,g,Q)=>{var u=Cn(),f=o(u);f.textContent=Q+1;var h=s(f,2),N=o(h,!0);n(h),n(u),R(()=>F(N,t(g).instruction)),_(w,u)}),n(Ct),n(_t),n(y),R(()=>{F(j,e().name),F(T,e().servings),F(yt,`${t(i)??""} mins`)}),_(k,y)});var ht=s(kt,2),at=o(ht);X(at,()=>!t(d),k=>{var y=Fn(),P=s(o(y));ae(P,{class:"w-4 h-4 ml-2 rotate-180"}),n(y),mt("click",y,ct),_(k,y)},k=>{var y=Pn(),P=o(y),x=o(P);ae(x,{class:"w-4 h-4 mr-2"}),Dt(),n(P);var S=s(P,2),D=o(S);br(D,{class:"w-4 h-4 mr-2"}),Dt(),n(S),n(y),mt("click",P,()=>m(d,!1)),_(k,y)}),n(ht),n(G),n(pt),R(()=>F(z,` ${(t(d)?"Edit":"Back")??""}`)),mt("click",L,function(...k){var y;(y=t(d)?()=>m(d,!1):r.goBack)==null||y.apply(this,k)}),mt("submit",G,function(...k){var y;(y=t(et))==null||y.apply(this,k)}),_(a,pt),re()}var Dn=C('<div class="flex flex-col items-center justify-between mb-6 md:flex-row"><h1 class="mb-4 text-3xl font-bold text-gray-800 md:mb-0">Recipes</h1> <button class="inline-flex items-center px-4 py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"><!> Add Recipe</button></div> <div class="mb-6"><div class="relative"><!> <input type="text" placeholder="Search by name or description..." class="w-full py-2 pl-10 pr-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"></div></div>',1);function Rn(a,r){let e=ft(r,"searchTerm",15);var c=Dn(),d=Mt(c),l=s(o(d),2);l.__click=function(...$){var tt;(tt=r.addRecipe)==null||tt.apply(this,$)};var i=o(l);xe(i,{class:"w-5 h-5 mr-2"}),Dt(),n(l),n(d);var v=s(d,2),B=o(v),b=o(B);ur(b,{class:"absolute w-5 h-5 text-gray-400 top-3 left-3"});var I=s(b,2);Kt(I),n(B),n(v),Lt(I,e),_(a,c)}ne(["click"]);function Bn(){const{subscribe:a,set:r,update:e}=fr({recipes:[],loading:!1,error:null,totalCount:0,currentPage:1,itemsPerPage:10});let c={};return{subscribe:a,fetchRecipes:async d=>{c=d,e(l=>({...l,loading:!0,error:null}));try{const l=await Vt.recipe.getRecipes({query:d});if(l.status!==200)throw new Error(`Failed to fetch recipes: ${l.status}`);const{recipes:i,totalCount:v}=l.body;e(B=>({...B,recipes:i,loading:!1,totalCount:v,currentPage:Math.floor((d.skip??0)/B.itemsPerPage)+1}))}catch(l){e(i=>({...i,error:l.message,loading:!1})),console.error(l)}},setPage:d=>{e(l=>({...l,currentPage:d}))},setItemsPerPage:d=>{e(l=>({...l,itemsPerPage:d}))},deleteRecipe:async d=>{if(e(l=>({...l,loading:!0,error:null})),confirm("Are you sure you want to delete this recipe?"))try{await Vt.recipe.deleteRecipe({params:{id:d}})}catch(l){e(i=>({...i,error:l.message,loading:!1})),console.error(l)}finally{const l=await Vt.recipe.getRecipes(c);if(l.status!==200)throw new Error(`Failed to fetch recipes: ${l.status}`);const{recipes:i,totalCount:v}=l.body;e(B=>({...B,recipes:i,loading:!1,totalCount:v,currentPage:Math.floor((c.skip??0)/B.itemsPerPage)+1}))}},createRecipe:async d=>{e(l=>({...l,loading:!0,error:null}));try{const l=await Vt.recipe.createRecipe({body:d});if(l.status!==200)throw new Error(`Failed to create recipes: ${l.status}`)}catch(l){e(i=>({...i,error:l.message,loading:!1})),console.error(l)}finally{console.log(`currentQuery is ${c}`)}}}}const ie=Bn();var Mn=C('<img class="object-cover w-10 h-10 rounded">'),qn=(a,r,e)=>r.viewRecipe(t(e)),jn=(a,r,e)=>r.editRecipe(t(e)),$n=(a,r)=>ie.deleteRecipe(t(r).id),On=C('<tr><td class="px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap"> </td><td class="px-6 py-4 text-sm text-gray-500 whitespace-nowrap"><!></td><td class="px-6 py-4 text-sm text-gray-500 whitespace-nowrap"> </td><td class="px-6 py-4 text-sm text-gray-500 whitespace-nowrap"> </td><td class="px-6 py-4 text-sm text-center whitespace-nowrap"><button class="mr-2 text-indigo-600 hover:text-indigo-900" aria-label="View Recipe"><!> <span class="sr-only">View</span></button> <button class="mr-2 text-yellow-600 hover:text-yellow-900" aria-label="Edit Recipe"><!> <span class="sr-only">Edit</span></button> <button class="text-red-600 hover:text-red-900" aria-label="Delete Recipe"><!> <span class="sr-only">Delete</span></button></td></tr>'),Nn=C('<div class="overflow-x-auto"><table class="min-w-full bg-white border border-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase">Name</th><th class="px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase">Image</th><th class="px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase">Prep Time</th><th class="px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase">Cook Time</th><th class="px-6 py-3 text-xs font-medium tracking-wider text-center text-gray-500 uppercase">Actions</th></tr></thead><tbody class="divide-y divide-gray-200"></tbody></table></div>');function An(a,r){ee(r,!0);var e=Nn(),c=o(e),d=s(o(c));Ft(d,21,()=>r.recipes,l=>l.id,(l,i)=>{var v=On(),B=o(v),b=o(B,!0);n(B);var I=s(B),$=o(I);X($,()=>t(i).imageUrl&&t(i).imageUrl.length>0,L=>{var W=Mn();R(()=>{Xt(W,"src",t(i).imageUrl[0]),Xt(W,"alt",t(i).name)}),_(L,W)}),n(I);var tt=s(I),lt=o(tt);n(tt);var K=s(tt),q=o(K);n(K);var J=s(K),ot=o(J);ot.__click=[qn,r,i];var ct=o(ot);_e(ct,{class:"inline-block w-4 h-4"}),Dt(2),n(ot);var pt=s(ot,2);pt.__click=[jn,r,i];var xt=o(pt);_e(xt,{class:"inline-block w-4 h-4"}),Dt(2),n(pt);var gt=s(pt,2);gt.__click=[$n,i];var bt=o(gt);ye(bt,{class:"inline-block w-4 h-4"}),Dt(2),n(gt),n(J),n(v),R(()=>{F(b,t(i).name),F(lt,`${t(i).prepTime??""} mins`),F(q,`${t(i).cookTime??""} mins`)}),_(l,v)}),n(d),n(c),n(e),_(a,e),re()}ne(["click"]);var zn=(a,r,e)=>r(Math.max(e()-1,1)),Ln=C("<button></button>"),Vn=(a,r,e,c)=>r(Math.min(e()+1,c())),Gn=C('<div class="flex items-center justify-between mt-4"><button class="px-4 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"><!> Previous</button> <div class="flex items-center space-x-2"></div> <button class="px-4 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">Next <!></button></div>');function Qn(a,r){ee(r,!0);let e=ft(r,"currentPage",3,1),c=ft(r,"totalPages",3,1);const d=Ge();function l(tt){d("pageChange",tt)}var i=Gn(),v=o(i);v.__click=[zn,l,e];var B=o(v);De(B,{class:"inline-block w-4 h-4 mr-1 transform rotate-180"}),Dt(),n(v);var b=s(v,2);Ft(b,21,()=>Array(c()),Ot,(tt,lt,K)=>{var q=Ln();q.__click=()=>l(K+1),q.textContent=K+1,R(()=>he(q,`px-3 py-1 text-sm font-medium rounded-md focus:outline-none ${e()===K+1?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`)),_(tt,q)}),n(b);var I=s(b,2);I.__click=[Vn,l,e,c];var $=s(o(I));De($,{class:"inline-block w-4 h-4 ml-1"}),n(I),n(i),R(()=>{v.disabled=e()===1,I.disabled=e()===c()}),_(a,i),re()}ne(["click"]);const Se=[{fromUnit:"gallon",toUnit:"quart",factor:4},{fromUnit:"quart",toUnit:"pint",factor:2},{fromUnit:"pint",toUnit:"cup",factor:2},{fromUnit:"cup",toUnit:"fluidOunce",factor:8},{fromUnit:"fluidOunce",toUnit:"tablespoon",factor:2},{fromUnit:"tablespoon",toUnit:"teaspoon",factor:3},{fromUnit:"liter",toUnit:"milliliter",factor:1e3},{fromUnit:"fluidOunce",toUnit:"milliliter",factor:29.5735},{fromUnit:"cup",toUnit:"milliliter",factor:236.588},{fromUnit:"cup",toUnit:"liter",factor:.236588},{fromUnit:"teaspoon",toUnit:"milliliter",factor:4.92892},{fromUnit:"tablespoon",toUnit:"milliliter",factor:14.7868},{fromUnit:"gallon",toUnit:"fluidOunce",factor:128},{fromUnit:"quart",toUnit:"fluidOunce",factor:32},{fromUnit:"pint",toUnit:"fluidOunce",factor:16},{fromUnit:"cup",toUnit:"tablespoon",factor:16},{fromUnit:"fluidOunce",toUnit:"cup",factor:.125},{fromUnit:"kilogram",toUnit:"gram",factor:1e3},{fromUnit:"gram",toUnit:"milligram",factor:1e3},{fromUnit:"milligram",toUnit:"gram",factor:.001},{fromUnit:"pound",toUnit:"ounce",factor:16},{fromUnit:"pound",toUnit:"gram",factor:453.592},{fromUnit:"pound",toUnit:"kilogram",factor:.453592},{fromUnit:"pound",toUnit:"milligram",factor:453592},{fromUnit:"ounce",toUnit:"gram",factor:28.3495},{fromUnit:"ounce",toUnit:"milligram",factor:28349.5},{fromUnit:"gram",toUnit:"ounce",factor:.035274},{fromUnit:"kilogram",toUnit:"pound",factor:2.20462},{fromUnit:"cupFlour",toUnit:"gram",factor:125},{fromUnit:"tablespoonFlour",toUnit:"gram",factor:7.8125},{fromUnit:"cupSugar",toUnit:"gram",factor:200},{fromUnit:"tablespoonSugar",toUnit:"gram",factor:12.5},{fromUnit:"cupBrownSugar",toUnit:"gram",factor:220},{fromUnit:"tablespoonBrownSugar",toUnit:"gram",factor:13.75},{fromUnit:"cupPowderedSugar",toUnit:"gram",factor:120},{fromUnit:"tablespoonPowderedSugar",toUnit:"gram",factor:7.5},{fromUnit:"cupButter",toUnit:"gram",factor:227},{fromUnit:"tablespoonButter",toUnit:"gram",factor:14.1875},{fromUnit:"cupHoney",toUnit:"gram",factor:340},{fromUnit:"tablespoonHoney",toUnit:"gram",factor:21.25},{fromUnit:"cupMilk",toUnit:"gram",factor:244},{fromUnit:"tablespoonMilk",toUnit:"gram",factor:15.25},{fromUnit:"cupWater",toUnit:"gram",factor:240},{fromUnit:"tablespoonWater",toUnit:"gram",factor:15},{fromUnit:"cupOil",toUnit:"gram",factor:218},{fromUnit:"tablespoonOil",toUnit:"gram",factor:13.625},{fromUnit:"teaspoonSalt",toUnit:"gram",factor:6},{fromUnit:"tablespoonSalt",toUnit:"gram",factor:18},{fromUnit:"teaspoonBakingPowder",toUnit:"gram",factor:4},{fromUnit:"teaspoonBakingSoda",toUnit:"gram",factor:4.6},{fromUnit:"cupCocoaPowder",toUnit:"gram",factor:85},{fromUnit:"tablespoonCocoaPowder",toUnit:"gram",factor:5.3125},{fromUnit:"cupOats",toUnit:"gram",factor:90},{fromUnit:"cupRice",toUnit:"gram",factor:190},{fromUnit:"cupAlmonds",toUnit:"gram",factor:92},{fromUnit:"cupPeanutButter",toUnit:"gram",factor:270},{fromUnit:"tablespoonPeanutButter",toUnit:"gram",factor:16.875},{fromUnit:"cupYogurt",toUnit:"gram",factor:245},{fromUnit:"cupCreamCheese",toUnit:"gram",factor:225},{fromUnit:"cupCornSyrup",toUnit:"gram",factor:328},{fromUnit:"cupMapleSyrup",toUnit:"gram",factor:322},{fromUnit:"cupMargarine",toUnit:"gram",factor:230},{fromUnit:"cupHeavyCream",toUnit:"gram",factor:238},{fromUnit:"cupSourCream",toUnit:"gram",factor:230},{fromUnit:"egg",toUnit:"gram",factor:50},{fromUnit:"stickButter",toUnit:"gram",factor:113.4},{fromUnit:"stickButter",toUnit:"cup",factor:.5},{fromUnit:"gallon",toUnit:"liter",factor:3.78541},{fromUnit:"quart",toUnit:"liter",factor:.946353},{fromUnit:"pint",toUnit:"milliliter",factor:473.176},{fromUnit:"liter",toUnit:"quart",factor:1.05669},{fromUnit:"milliliter",toUnit:"fluidOunce",factor:.033814},{fromUnit:"liter",toUnit:"deciliter",factor:10},{fromUnit:"liter",toUnit:"centiliter",factor:100},{fromUnit:"liter",toUnit:"milliliter",factor:1e3},{fromUnit:"imperialPint",toUnit:"milliliter",factor:568.261},{fromUnit:"imperialGallon",toUnit:"liter",factor:4.54609}];function Hn(a,r){const e=new Map;return a.forEach(({fromUnit:c,toUnit:d,factor:l})=>{e.has(c)||e.set(c,new Map),e.has(d)||e.set(d,new Map),e.get(c).set(d,l),e.get(d).set(c,1/l)}),r&&r.forEach(({fromUnit:c,toUnit:d,factor:l})=>{var i,v;(i=e.get(c))==null||i.delete(d),(v=e.get(d))==null||v.delete(c),e.has(c)||e.set(c,new Map),e.has(d)||e.set(d,new Map),e.get(c).set(d,l),e.get(d).set(c,1/l)}),e}function Kn(a,r,e,c){if(r===e)return 1;const d=[{unit:r,factor:1,cost:0}],l=new Map;for(;d.length>0;){d.sort((I,$)=>I.cost-$.cost);const{unit:i,factor:v,cost:B}=d.shift();if(l.has(i)&&l.get(i)<=B)continue;if(l.set(i,B),i===e)return v;const b=a.get(i);if(b)for(const[I,$]of b.entries()){const lt=(c==null?void 0:c.some(K=>K.fromUnit===i&&K.toUnit===I||K.fromUnit===I&&K.toUnit===i))??!1?1:2;d.push({unit:I,factor:v*$,cost:B+lt})}}return null}function Ae(a){return new Set(["gallon","quart","pint","cup","fluidOunce","tablespoon","teaspoon","milliliter","liter","cubicMeter","cubicFoot","cubicInch"]).has(a)}function Wn(a){return new Set(["ton","kilogram","gram","milligram","metricTon","pound","ounce","stone"]).has(a)}function te(a,r,e,c,d){const l=Hn(Se,d),i=Kn(l,r,e,d);if(i!==null)return a*i;const v=Ae(r),B=Ae(e);if(c!==void 0){if(v&&!B){const I=te(a,r,"milliliter",void 0,d)*c;return te(I,"gram",e,void 0,d)}else if(!v&&B){const I=te(a,r,"gram",void 0,d)/c;return te(I,"milliliter",e,void 0,d)}}throw new Error("Conversion not possible without density")}try{const r=te(.75,"cupFlour","pound",void 0,[{fromUnit:"cupFlour",toUnit:"ounce",factor:4.6}]);console.log(`0.75 cup of flour is approximately ${r.toFixed(6)} pounds`)}catch(a){console.error("Conversion error:",a.message)}function Yn(a,r,e,c,d,l){if(t(r)===null||!t(e))return;const i=t(e).ingredients[t(r)];try{const v=te(i.quantity,i.unit,t(c),void 0,d);t(e).ingredients[t(r)]={...i,quantity:v,unit:t(c)},l()}catch(v){console.error(`Failed to convert ${i.quantity} ${i.unit} of ingredient ID ${i.ingredientId}`,v),alert("Conversion failed. Please check the units and try again.")}}var Zn=C("<!> <!> <!>",1),Jn=C("<option> </option>"),Xn=C('<p class="mb-4"> </p> <div class="flex flex-col mb-4 space-y-2"><select class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"><option>Select unit to convert to</option><!></select> <button class="px-4 py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">Convert</button></div>',1),ti=C('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"><div class="p-6 bg-white rounded-lg shadow-xl modal-content"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-900">Standardize Ingredient</h3> <div class="text-gray-400 hover:text-gray-500 focus:outline-none cursor-pointer" aria-label="Close modal"><svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></div></div> <!></div></div>'),ei=C('<div class="container p-4 mx-auto"><!> <div class="container p-4 mx-auto"><!></div> <!> <!></div>');function ri(a,r){ee(r,!0);const e=He();let c=V(E([])),d=V(""),l=V("list"),i=V(null),v=V(E([])),B=V(E([])),b=V(E([])),I=V(E([])),$=V(1);const tt=4;let lt=V(0),K=V(1),q=V(10),J=V(!1),ot=V(null),ct=V(""),pt=[];const xt=[...new Set([...Se.map(u=>u.fromUnit),...Se.map(u=>u.toUnit)])].sort();function gt(u){m(ot,E(u)),m(ct,""),m(J,!0)}function bt(){m(J,!1),m(ot,null),m(ct,"")}let L=V(!1),W=V(null),z=V(""),O=V(null),G=V(!1),et=V(1);Qe(()=>{(async()=>{await k(),await y(),await P(),at()})();const f=ie.subscribe(h=>{m(c,E(h.recipes)),h.loading,m(v,E([h.error])),m(lt,E(h.totalCount)),m(K,E(h.currentPage)),m(q,E(h.itemsPerPage))});return()=>{f()}});function kt(u){ie.setPage(u.detail),at()}function ht(u){ie.setItemsPerPage(u.detail),at()}function at(){const u=(t(K)-1)*t(q);ie.fetchRecipes({skip:u,take:t(q),searchTerm:t(d)})}async function k(){try{const u=await Vt.restaurant.getRestaurants({});if(u.status===200)m(B,E(u.body));else throw new Error(`Error fetching restaurants: ${u.status}`)}catch(u){console.error("Failed to fetch restaurants:",u),m(v,E([u.message||"Failed to fetch restaurants"]))}}async function y(){try{const u=await Vt.cookbook.getCookBooks({});if(u.status===200)m(b,E(u.body));else throw new Error(`Error fetching cookBooks: ${u.status}`)}catch(u){console.error("Failed to fetch cookBooks:",u),m(v,E([u.message||"Failed to fetch cookBooks"]))}}async function P(){try{const u=await Vt.ingredient.getIngredients({});if(u.status===200)m(I,E(u.body));else throw new Error(`Error fetching ingredients: ${u.status}`)}catch(u){console.error("Failed to fetch ingredients:",u),m(v,E([u.message||"Failed to fetch ingredients"]))}}function x(){m(i,E({name:"",imageUrl:"",description:"",servings:0,cookTime:0,prepTime:0,frequency:null,foodCost:null,restaurantId:0,cookBookId:0,ingredients:[],instructions:[]})),m(l,"create"),m(v,E([]))}function S(u){u&&(m(i,E({id:u.id,name:u.name,imageUrl:u.imageUrl&&u.imageUrl.length>0?u.imageUrl[0]:"",description:u.description,servings:u.servings,cookTime:u.cookTime,prepTime:u.prepTime,frequency:u.frequency,foodCost:u.foodCost,restaurantId:u.restaurantId,cookBookId:u.cookBookId,ingredients:u.ingredients.map(f=>({id:f.id,quantity:f.quantity,unit:f.unit,ingredientId:f.ingredientId})),instructions:u.instructions.map(f=>({id:f.id,stepNumber:f.stepNumber,instruction:f.instruction,imageUrl:f.imageUrl}))})),m(l,"edit"),m(v,E([])))}function D(u){m(i,E({id:u.id,name:u.name,imageUrl:u.imageUrl&&u.imageUrl.length>0?u.imageUrl[0]:"",description:u.description,servings:u.servings,cookTime:u.cookTime,prepTime:u.prepTime,frequency:u.frequency,foodCost:u.foodCost,restaurantId:u.restaurantId,cookBookId:u.cookBookId,ingredients:u.ingredients.map(f=>({quantity:f.quantity,unit:f.unit,ingredientId:f.ingredientId})),instructions:u.instructions.map(f=>({stepNumber:f.stepNumber,instruction:f.instruction,imageUrl:f.imageUrl,id:f.id}))})),m(l,"view"),m(v,E([]))}async function j(){try{if(!t(i)||t(i).ingredients.length===0||t(i).instructions.length===0)throw new Error("Recipe must have at least one ingredient and one instruction");let u;if(t(l)==="create")u={name:t(i).name,imageUrl:t(i).imageUrl?[t(i).imageUrl]:[],description:t(i).description,servings:t(i).servings,cookTime:t(i).cookTime,prepTime:t(i).prepTime,frequency:t(i).frequency,foodCost:t(i).foodCost,restaurant:{connect:{id:t(i).restaurantId}},cookBook:{connect:{id:t(i).cookBookId}},ingredients:{create:t(i).ingredients.map(f=>({quantity:f.quantity,unit:f.unit,ingredient:{connect:{id:f.ingredientId}}}))},instructions:{create:t(i).instructions.map(f=>({stepNumber:f.stepNumber,instruction:f.instruction,imageUrl:f.imageUrl}))}},ie.createRecipe(u);else if(t(l)==="edit"){const f=t(c).find(U=>U.id===t(i).id);if(!f)throw new Error("Original recipe not found");const h=f.ingredients.filter(U=>!t(i).ingredients.some(dt=>dt.id===U.id)).map(U=>U.id),N=f.instructions.filter(U=>!t(i).instructions.some(dt=>dt.id===U.id)).map(U=>U.id),Y={ingredientIds:h,instructionIds:N};if(u={name:t(i).name,imageUrl:t(i).imageUrl?[t(i).imageUrl]:[],description:t(i).description,servings:t(i).servings,cookTime:t(i).cookTime,prepTime:t(i).prepTime,frequency:t(i).frequency,foodCost:t(i).foodCost,restaurant:{connect:{id:t(i).restaurantId}},cookBook:{connect:{id:t(i).cookBookId}},ingredients:{update:t(i).ingredients.filter(U=>U.id).map(U=>({where:{id:U.id},data:{quantity:U.quantity,unit:U.unit,ingredient:{connect:{id:U.ingredientId}}}})),create:t(i).ingredients.filter(U=>!U.id).map(U=>({quantity:U.quantity,unit:U.unit,ingredient:{connect:{id:U.ingredientId}}}))},instructions:{update:t(i).instructions.filter(U=>U.id).map(U=>({where:{id:U.id},data:{stepNumber:U.stepNumber,instruction:U.instruction,imageUrl:U.imageUrl}})),create:t(i).instructions.filter(U=>!U.id).map(U=>({stepNumber:U.stepNumber,instruction:U.instruction,imageUrl:U.imageUrl}))}},!t(i).id)throw new Error("Recipe ID not found");await Vt.recipe.updateRecipe({params:{id:+t(i).id},body:{data:u,deleteIds:Y}})}at(),m(l,"list"),m(i,null),m(v,E([]))}catch(u){console.error("Failed to save recipe:",u),m(v,E([u.message||"Failed to save recipe"]))}}function A(){t(i)&&(t(i).ingredients=[...t(i).ingredients,{ingredientId:0,quantity:0,unit:""}])}function T(u){t(i)&&(t(i).ingredients=t(i).ingredients.filter((f,h)=>h!==u))}function st(){t(i)&&(t(i).instructions=[...t(i).instructions,{stepNumber:t(i).instructions.length+1,instruction:"",id:0}])}function yt(u){t(i)&&(t(i).instructions=t(i).instructions.filter((f,h)=>h!==u),t(i).instructions=t(i).instructions.map((f,h)=>({...f,stepNumber:h+1})))}function rt(){m(l,"list"),m(i,null),m(v,E([]))}function H(){t($)<tt&&(m($,t($)+1),t($)===4&&it())}function nt(){t($)>1&&m($,t($)-1)}function it(){t(i)&&(m(p,E(t(i).ingredients.reduce((u,f)=>{const h=t(I).find(N=>N.id===f.ingredientId);return h&&h.price?u+h.price*f.quantity:u},0))),t(i).foodCost=t(p))}let wt=It(()=>Math.ceil(t(lt)/t(q)));ge(()=>{t(K)>t(wt)&&m(K,E(t(wt)||1))}),ge(()=>{t(d)!==""&&(m(K,1),at())});function Gt(u){m(W,E(u)),m(L,!0),m(z,""),m(O,null)}function Pt(){m(L,!1),m(W,null),m(z,""),m(O,null)}function Nt(){if(t(W)===null||!t(i))return;const u=t(i).ingredients[t(W)];try{const f=te(u.quantity,u.unit,t(z));m(O,E(f))}catch(f){f instanceof Error?alert(f.message):alert("An unknown error occurred")}}function qt(){t(W)===null||t(O)===null||!t(i)||(t(i).ingredients[t(W)].quantity=t(O),t(i).ingredients[t(W)].unit=t(z),Pt())}function Wt(){if(t(i)){if(isNaN(t(et))||t(et)<=0){alert("Please enter a valid positive number for scaling.");return}t(i).servings=Math.round(t(i).servings*t(et)),t(i).ingredients=t(i).ingredients.map(u=>({...u,quantity:u.quantity*t(et)})),m(G,!1)}}function jt(){t(i)&&(at(),m(G,!1),m(et,1))}function Ut(u){const f=document.querySelector(".modal-content");f&&!f.contains(u.target)&&Pt()}function Ht(){if(!t(i))return;const u=[];t(i).ingredients=t(i).ingredients.map(f=>{if(Wn(f.unit))return f;try{const h=te(f.quantity,f.unit,"gram",void 0,u);return{...f,quantity:h,unit:"gram"}}catch(h){return console.error(`Failed to convert ${f.quantity} ${f.unit} of ingredient ID ${f.ingredientId}`,h),f}})}ge(()=>{t(i)&&m(p,E(t(i).ingredients.reduce((u,f)=>{const h=t(I).find(N=>N.id===f.ingredientId);return h&&h.price?u+h.price*f.quantity:u},0)))});let p=V(0);ge(()=>{t(l)==="view"&&(m(G,!1),m(L,!1))});var M=ei(),_t=o(M);X(_t,()=>t(l)==="list",u=>{var f=Zn(),h=Mt(f);Rn(h,{get searchTerm(){return t(d)},set searchTerm(U){m(d,E(U))},addRecipe:x});var N=s(h,2);An(N,{get recipes(){return t(c)},viewRecipe:D,editRecipe:S});var Y=s(N,2);Qn(Y,{get currentPage(){return t(K)},get totalPages(){return t(wt)},$$events:{pageChange:kt,itemsPerPageChange:ht}}),_(u,f)});var Ct=s(_t,2),w=o(Ct);X(w,()=>t(l)==="create"||t(l)==="edit",u=>{Tn(u,{get currentView(){return t(l)},get currentRecipe(){return t(i)},set currentRecipe(f){m(i,E(f))},get restaurants(){return t(B)},get cookBooks(){return t(b)},get ingredientsList(){return t(I)},get errors(){return t(v)},totalSteps:tt,goBack:rt,handleSubmit:j,prevStep:nt,nextStep:H,addIngredient:A,removeIngredient:T,addInstruction:st,removeInstruction:yt})}),n(Ct);var g=s(Ct,2);X(g,()=>t(l)==="view"&&t(i),u=>{Or(u,{get currentRecipe(){return t(i)},get restaurants(){return t(B)},get cookBooks(){return t(b)},get ingredientsList(){return t(I)},get isScaling(){return t(G)},set isScaling(f){m(G,E(f))},get scaleFactor(){return t(et)},set scaleFactor(f){m(et,E(f))},get isConvertingUnits(){return t(L)},set isConvertingUnits(f){m(L,E(f))},get currentIngredientIndex(){return t(W)},set currentIngredientIndex(f){m(W,E(f))},get newUnit(){return t(z)},set newUnit(f){m(z,E(f))},get convertedQuantity(){return t(O)},set convertedQuantity(f){m(O,E(f))},allUnits:xt,editRecipe:S,scaleRecipe:Wt,resetScaling:jt,openUnitConversion:Gt,closeUnitConversion:Pt,convertUnit:Nt,applyUnitConversion:qt,handleClickOutside:Ut,goBack:rt,standardizeIngredients:Ht,startStandardization:gt})});var Q=s(g,2);X(Q,()=>t(J)&&t(ot)!==null,u=>{var f=ti();f.__click=bt;var h=o(f),N=It(()=>Le(e("click")));h.__click=function(...vt){var St;(St=t(N))==null||St.apply(this,vt)};var Y=o(h),U=s(o(Y),2);U.__click=bt,n(Y);var dt=s(Y,2);X(dt,()=>t(i),vt=>{var St=Xn(),At=Mt(St),Et=o(At);R(()=>F(Et,`Current: ${t(i).ingredients[t(ot)].quantity.toFixed(2)??""}
						${t(i).ingredients[t(ot)].unit??""}`)),n(At);var ut=s(At,2),Z=o(ut),Rt=o(Z);Rt.value=((Rt.__value="")==null,"");var Tt=s(Rt);Ft(Tt,17,()=>xt,Ot,($t,Qt)=>{var zt=Jn(),Zt={},Ye=o(zt,!0);n(zt),R(()=>{Zt!==(Zt=t(Qt))&&(zt.value=(zt.__value=t(Qt))==null?"":t(Qt)),F(Ye,t(Qt))}),_($t,zt)}),n(Z);var Bt=s(Z,2);Bt.__click=[Yn,ot,i,ct,pt,bt],n(ut),oe(Z,()=>t(ct),$t=>m(ct,$t)),_(vt,St)}),n(h),n(f),_(u,f)}),n(M),_(a,M),re()}ne(["click"]);function ni(a,r,e){m(r,E({name:"",status:"PENDING",recipes:[],prepItems:[],createdAt:new Date,updatedAt:new Date})),m(e,"create")}function ze(a,r,e){m(r,"list"),m(e,null)}var ii=C('<p class="text-center text-gray-500">Loading prep boards...</p>'),oi=C('<p class="text-center text-red-500"> </p>'),ai=(a,r,e)=>r(t(e)),si=(a,r,e)=>r(t(e).id),li=(a,r,e)=>r(t(e)),ci=C('<div class="overflow-hidden transition-shadow duration-300 bg-white rounded-lg shadow hover:shadow-md"><div class="px-4 py-5 sm:p-6"><div class="flex items-center justify-between mb-4"><div class="flex items-center"><!> <h2 class="text-xl font-semibold text-gray-900"> </h2></div> <div class="flex space-x-2"><button class="text-indigo-600 hover:text-indigo-800"><!></button> <button class="text-red-600 hover:text-red-800"><!></button></div></div> <dl><dt class="text-sm font-medium text-gray-500">Status</dt> <dd class="mt-1 text-sm text-gray-900"> </dd> <dt class="mt-4 text-sm font-medium text-gray-500">Items</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></dl></div> <div class="px-4 py-4 bg-gray-50 sm:px-6"><button class="text-sm font-medium text-indigo-600 hover:text-indigo-500">View Details</button></div></div>'),di=C('<div class="grid grid-cols-1 gap-6 mt-8 sm:grid-cols-2 lg:grid-cols-3"></div>'),ui=C('<div class="flex items-center justify-between mb-8"><h1 class="text-3xl font-semibold text-gray-900">Prep Boards</h1> <button class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><!> Add Prep Board</button></div> <!>',1),fi=C('<div class="max-w-2xl mx-auto"><div class="flex items-center justify-between mb-8"><h1 class="text-3xl font-semibold text-gray-900"> </h1> <button class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><!> Back</button></div> <form class="space-y-6"><div><label for="name" class="block text-sm font-medium text-gray-700">Name</label> <input type="text" id="name" required class="block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></div> <div><label for="status" class="block text-sm font-medium text-gray-700">Status</label> <select id="status" class="block w-full px-3 py-2 mt-1 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"><option>Pending</option><option>In Progress</option><option>Completed</option></select></div> <div><button type="submit" class="inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"> </button></div></form></div>'),mi=C('<li class="flex items-center justify-between py-3 pl-3 pr-4 text-sm"><div class="flex items-center flex-1 w-0"><span class="flex-1 w-0 ml-2 truncate"> </span></div> <div class="flex-shrink-0 ml-4"><span class="font-medium text-indigo-600 hover:text-indigo-500"> </span></div></li>'),vi=C('<div class="max-w-4xl mx-auto"><div class="flex items-center justify-between mb-8"><h1 class="text-3xl font-semibold text-gray-900"> </h1> <button class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><!> Back to List</button></div> <div class="overflow-hidden bg-white shadow sm:rounded-lg"><div class="px-4 py-5 sm:px-6"><h3 class="text-lg font-medium leading-6 text-gray-900">Prep Board Details</h3></div> <div class="px-4 py-5 border-t border-gray-200 sm:p-0"><dl class="sm:divide-y sm:divide-gray-200"><div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"><dt class="text-sm font-medium text-gray-500">Status</dt> <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"> </dd></div> <div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"><dt class="text-sm font-medium text-gray-500">Prep Items</dt> <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><ul class="border border-gray-200 divide-y divide-gray-200 rounded-md"></ul></dd></div></dl></div></div></div>'),pi=C('<div class="px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8"><!></div>');function gi(a,r){ee(r,!0);let e=V(E([])),c=V("list"),d=V(null),l=V(!0),i=V(null);Qe(async()=>{await v()});async function v(){try{m(l,!0);const q=await Vt.prepBoard.getPrepBoards({});if(q.status===200)m(e,E(q.body));else throw new Error("Failed to fetch prep boards")}catch(q){m(i,E(q.message))}finally{m(l,!1)}}function B(q){switch(q){case"COMPLETED":return pr;case"ON_PROGRESS":return Re;case"PENDING":return vr;default:return Re}}function b(q){m(d,E({...q})),m(c,"edit")}async function I(q){if(confirm("Are you sure you want to delete this prep board?"))try{await Vt.prepBoard.deletePrepBoard({params:{id:q}}),await v()}catch{m(i,"Failed to delete prep board")}}async function $(){try{if(!t(d))return;const q={name:t(d).name,status:t(d).status,recipes:{connect:t(d).recipes.map(J=>({id:J.id}))},prepItems:{connect:t(d).prepItems.map(J=>({id:J.id}))}};t(c)==="create"?await Vt.prepBoard.createPrepBoard({body:q}):await Vt.prepBoard.updatePrepBoard({params:{id:t(d).id},body:q}),await v(),m(c,"list"),m(d,null)}catch{m(i,"Failed to save prep board")}}function tt(q){m(d,E({...q})),m(c,"view")}var lt=pi(),K=o(lt);X(K,()=>t(c)==="list",q=>{var J=ui(),ot=Mt(J),ct=s(o(ot),2);ct.__click=[ni,d,c];var pt=o(ct);xe(pt,{class:"w-5 h-5 mr-2"}),Dt(),n(ct),n(ot);var xt=s(ot,2);X(xt,()=>t(l),gt=>{var bt=ii();_(gt,bt)},gt=>{var bt=Yt(),L=Mt(bt);X(L,()=>t(i),W=>{var z=oi(),O=o(z,!0);n(z),R(()=>F(O,t(i))),_(W,z)},W=>{var z=di();Ft(z,21,()=>t(e),O=>O.id,(O,G)=>{var et=ci();const kt=It(()=>B(t(G).status));var ht=o(et),at=o(ht),k=o(at),y=o(k);mr(y,()=>t(kt),(Gt,Pt)=>{Pt(Gt,{class:"w-8 h-8 mr-3 text-gray-400"})});var P=s(y,2),x=o(P,!0);n(P),n(k);var S=s(k,2),D=o(S);D.__click=[ai,b,G];var j=o(D);_e(j,{class:"w-5 h-5"}),n(D);var A=s(D,2);A.__click=[si,I,G];var T=o(A);ye(T,{class:"w-5 h-5"}),n(A),n(S),n(at);var st=s(at,2),yt=s(o(st),2),rt=o(yt,!0);n(yt);var H=s(yt,4),nt=o(H);n(H),n(st),n(ht);var it=s(ht,2),wt=o(it);wt.__click=[li,tt,G],n(it),n(et),R(()=>{F(x,t(G).name),F(rt,t(G).status),F(nt,`${t(G).prepItems.length??""} items`)}),_(O,et)}),n(z),_(W,z)},!0),_(gt,bt)}),_(q,J)},q=>{var J=Yt(),ot=Mt(J);X(ot,()=>t(c)==="create"||t(c)==="edit",ct=>{var pt=fi(),xt=o(pt),gt=o(xt),bt=o(gt,!0);n(gt);var L=s(gt,2);L.__click=[ze,c,d];var W=o(L);ae(W,{class:"w-5 h-5 mr-2"}),Dt(),n(L),n(xt);var z=s(xt,2),O=It(()=>Ve($)),G=o(z),et=s(o(G),2);Kt(et),n(G);var kt=s(G,2),ht=s(o(kt),2),at=o(ht);at.value=(at.__value="PENDING")==null?"":"PENDING";var k=s(at);k.value=(k.__value="ON_PROGRESS")==null?"":"ON_PROGRESS";var y=s(k);y.value=(y.__value="COMPLETED")==null?"":"COMPLETED",n(ht),n(kt);var P=s(kt,2),x=o(P),S=o(x,!0);n(x),n(P),n(z),n(pt),R(()=>{F(bt,t(c)==="create"?"Create Prep Board":"Edit Prep Board"),F(S,t(c)==="create"?"Create Prep Board":"Update Prep Board")}),mt("submit",z,function(...D){var j;(j=t(O))==null||j.apply(this,D)}),Lt(et,()=>t(d).name,D=>t(d).name=D),oe(ht,()=>t(d).status,D=>t(d).status=D),_(ct,pt)},ct=>{var pt=Yt(),xt=Mt(pt);X(xt,()=>t(c)==="view"&&t(d),gt=>{var bt=vi(),L=o(bt),W=o(L),z=o(W,!0);n(W);var O=s(W,2);O.__click=[ze,c,d];var G=o(O);ae(G,{class:"w-5 h-5 mr-2"}),Dt(),n(O),n(L);var et=s(L,2),kt=s(o(et),2),ht=o(kt),at=o(ht),k=s(o(at),2),y=o(k,!0);n(k),n(at);var P=s(at,2),x=s(o(P),2),S=o(x);Ft(S,21,()=>t(d).prepItems,D=>D.id,(D,j)=>{var A=mi(),T=o(A),st=o(T),yt=o(st);n(st),n(T);var rt=s(T,2),H=o(rt),nt=o(H,!0);n(H),n(rt),n(A),R(()=>{var it;F(yt,`${(((it=t(j).recipe)==null?void 0:it.name)||"Unknown Recipe")??""} (Qty: ${t(j).quantity??""})`),F(nt,t(j).status)}),_(D,A)}),n(S),n(x),n(P),n(ht),n(kt),n(et),n(bt),R(()=>{F(z,t(d).name),F(y,t(d).status)}),_(gt,bt)},null,!0),_(ct,pt)},!0),_(q,J)}),n(lt),_(a,lt),re()}ne(["click"]);const bi={gallon:{quart:4,pint:8,cup:16,fluidOunce:128,tablespoon:256,teaspoon:768,milliliter:3785.41,liter:3.78541,cubicMeter:.00378541,cubicFoot:.133681,cubicInch:231},quart:{pint:2,cup:4,fluidOunce:32,tablespoon:64,teaspoon:192,milliliter:946.353,liter:.946353,cubicMeter:946353e-9,cubicFoot:.0334201,cubicInch:57.75},pint:{cup:2,fluidOunce:16,tablespoon:32,teaspoon:96,milliliter:473.176,liter:.473176,cubicMeter:473176e-9,cubicFoot:.0167101,cubicInch:28.875},cup:{fluidOunce:8,tablespoon:16,teaspoon:48,milliliter:236.588,liter:.236588,cubicMeter:236588e-9,cubicFoot:.00835503,cubicInch:14.4375},fluidOunce:{tablespoon:2,teaspoon:6,milliliter:29.5735,liter:.0295735,cubicMeter:295735e-10,cubicFoot:.00104438,cubicInch:1.80469},tablespoon:{teaspoon:3,milliliter:14.7868,liter:.0147868,cubicMeter:147868e-10,cubicFoot:522189e-9,cubicInch:.902344},teaspoon:{milliliter:4.92892,liter:.00492892,cubicMeter:492892e-11,cubicFoot:174063e-9,cubicInch:.300781},milliliter:{liter:.001,cubicMeter:1e-6,cubicFoot:353147e-10,cubicInch:.0610237},liter:{cubicMeter:.001,cubicFoot:.0353147,cubicInch:61.0237},cubicMeter:{cubicFoot:35.3147,cubicInch:61023.7},cubicFoot:{cubicInch:1728}},hi={ton:{kilogram:907.185,gram:907185,milligram:907185e3,metricTon:.907185,pound:2e3,ounce:32e3,stone:142.857},kilogram:{gram:1e3,milligram:1e6,metricTon:.001,pound:2.20462,ounce:35.274,stone:.157473},gram:{milligram:1e3,metricTon:1e-6,pound:.00220462,ounce:.035274,stone:157473e-9},milligram:{metricTon:1e-9,pound:220462e-11,ounce:35274e-9,stone:157473e-12},metricTon:{pound:2204.62,ounce:35274,stone:157.473},pound:{ounce:16,stone:.0714286},ounce:{stone:.00446429}},_i={kilometer:{meter:1e3,centimeter:1e5,millimeter:1e6,mile:.621371,yard:1093.61,foot:3280.84,inch:39370.1,nauticalMile:.539957},meter:{centimeter:100,millimeter:1e3,mile:621371e-9,yard:1.09361,foot:3.28084,inch:39.3701,nauticalMile:539957e-9},centimeter:{millimeter:10,mile:621371e-11,yard:.0109361,foot:.0328084,inch:.393701,nauticalMile:539957e-11},millimeter:{mile:621371e-12,yard:.00109361,foot:.00328084,inch:.0393701,nauticalMile:539957e-12},mile:{yard:1760,foot:5280,inch:63360,nauticalMile:.868976},yard:{foot:3,inch:36,nauticalMile:493737e-9},foot:{inch:12,nauticalMile:164579e-9},inch:{nauticalMile:137149e-10}},xi={volume:bi,weight:hi,length:_i};var yi=(a,r,e)=>r(t(e)),wi=C('<li><button type="button" class="w-full px-3 py-2 text-left hover:bg-indigo-600 hover:text-white"> </button></li>'),ki=C('<ul class="absolute z-10 w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"></ul>'),Ui=(a,r,e)=>r(t(e)),Ii=C('<li><button type="button" class="w-full px-3 py-2 text-left hover:bg-indigo-600 hover:text-white"> </button></li>'),Ci=C('<ul class="absolute z-10 w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"></ul>'),Si=C('<li class="text-gray-600"> </li>'),Fi=C('<div class="p-4 mt-6 bg-gray-100 rounded-md"><h3 class="mb-2 text-xl font-semibold text-gray-800"> </h3> <h4 class="mb-2 text-lg font-semibold text-gray-700">Conversion Steps:</h4> <ol class="space-y-1 list-decimal list-inside"></ol></div>'),Pi=C('<div class="max-w-2xl p-6 mx-auto my-8 bg-white rounded-lg shadow-md"><h2 class="mb-6 text-3xl font-bold text-center text-gray-800">Unit Conversion</h2> <div class="grid grid-cols-1 gap-6 mb-6"><div><label for="startValue" class="block mb-1 text-sm font-medium text-gray-700">Value</label> <input type="number" id="startValue" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" required></div> <div class="relative"><label for="startUnit" class="block mb-1 text-sm font-medium text-gray-700">From Unit</label> <input type="text" id="startUnit" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" required> <!></div> <div class="relative"><label for="endUnit" class="block mb-1 text-sm font-medium text-gray-700">To Unit</label> <input type="text" id="endUnit" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" required> <!></div></div> <button class="w-full px-4 py-2 text-white transition duration-150 ease-in-out bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">Convert</button> <!></div>');function Ei(a,r){ee(r,!0);const e=Jt.record(Jt.number()),c=Jt.record(e),d=Jt.object({volume:c,weight:c}),l=Jt.object({step:Jt.number(),explanation:Jt.string(),intermediateValue:Jt.number()}),i=d.parse(xi);let v=V(1),B="",b=V(""),I=V(null),$=V(E([]));const tt=[...new Set(Object.values(i).flatMap(x=>Object.keys(x)))].sort();let lt=V(""),K=V(""),q=V(!1),J=V(!1),ot=It(()=>tt.filter(x=>x.toLowerCase().includes(t(lt).toLowerCase()))),ct=It(()=>tt.filter(x=>x.toLowerCase().includes(t(K).toLowerCase())));function pt(){if(!t(v)||!B||!t(b)){alert("Please fill in all fields");return}try{const x=bt(t(v),B,t(b));m(I,E(x.result)),m($,E(x.steps))}catch(x){x instanceof Error?alert(x.message):alert("An unknown error occurred")}}function xt(x){B=x,m(lt,E(x)),m(q,!1)}function gt(x){m(b,E(x)),m(K,E(x)),m(J,!1)}function bt(x,S,D){let j=x;const A=[];A.push(l.parse({step:1,explanation:`Starting with ${x} ${S}.`,intermediateValue:j}));const T=Object.keys(i).find(rt=>S in i[rt]),st=Object.keys(i).find(rt=>D in i[rt]);if(!T||!st)throw new Error("Unsupported units for conversion");function yt(rt,H,nt,it){if(H===nt)return rt;const wt=i[it];if(H in wt&&nt in wt[H])return rt*wt[H][nt];if(nt in wt&&H in wt[nt])return rt/wt[nt][H];throw new Error(`No conversion found between ${H} and ${nt} in ${it}`)}if(T===st)try{j=yt(j,S,D,T),A.push(l.parse({step:2,explanation:`Converted directly from ${S} to ${D} in ${T} category.`,intermediateValue:j}))}catch{const nt=Object.keys(i[T]).find(it=>it!==S&&it!==D&&(S in i[T]&&it in i[T][S]||it in i[T]&&S in i[T][it])&&(D in i[T]&&it in i[T][D]||it in i[T]&&D in i[T][it]));if(nt)j=yt(j,S,nt,T),A.push(l.parse({step:A.length+1,explanation:`Converted from ${S} to ${nt} in ${String(T)} category.`,intermediateValue:j})),j=yt(j,nt,D,T),A.push(l.parse({step:A.length+1,explanation:`Converted from ${nt} to ${D} in ${String(T)} category.`,intermediateValue:j}));else throw new Error(`Unable to convert between ${S} and ${D} in ${String(T)} category`)}else throw new Error("Conversion between volume and weight is not supported without knowing the substance density");return A.push(l.parse({step:A.length+1,explanation:`Final result: ${j} ${D}.`,intermediateValue:j})),{result:j,steps:A}}var L=Pi(),W=s(o(L),2),z=o(W),O=s(o(z),2);Kt(O),n(z);var G=s(z,2),et=s(o(G),2);Kt(et);var kt=s(et,2);X(kt,()=>t(q)&&t(ot).length>0,x=>{var S=ki();Ft(S,21,()=>t(ot),Ot,(D,j)=>{var A=wi(),T=o(A);T.__click=[yi,xt,j];var st=o(T,!0);n(T),n(A),R(()=>F(st,t(j))),mt("focus",T,()=>m(q,!0)),mt("blur",T,()=>m(q,!1)),_(D,A)}),n(S),_(x,S)}),n(G);var ht=s(G,2),at=s(o(ht),2);Kt(at);var k=s(at,2);X(k,()=>t(J)&&t(ct).length>0,x=>{var S=Ci();Ft(S,21,()=>t(ct),Ot,(D,j)=>{var A=Ii(),T=o(A);T.__click=[Ui,gt,j];var st=o(T,!0);n(T),n(A),R(()=>F(st,t(j))),mt("focus",T,()=>m(q,!0)),mt("blur",T,()=>m(q,!1)),_(D,A)}),n(S),_(x,S)}),n(ht),n(W);var y=s(W,2);y.__click=pt;var P=s(y,2);X(P,()=>t(I)!==null,x=>{var S=Fi(),D=o(S),j=o(D);R(()=>F(j,`Result: ${t(I).toFixed(2)??""}
				${t(b)??""}`)),n(D);var A=s(D,4);Ft(A,21,()=>t($),Ot,(T,st)=>{var yt=Si(),rt=o(yt,!0);n(yt),R(()=>F(rt,t(st).explanation)),_(T,yt)}),n(A),n(S),_(x,S)}),n(L),Lt(O,()=>t(v),x=>m(v,x)),mt("focus",et,()=>m(q,!0)),Lt(et,()=>t(lt),x=>m(lt,x)),mt("focus",at,()=>m(J,!0)),Lt(at,()=>t(K),x=>m(K,x)),_(a,L),re()}ne(["click"]);var Ti=(a,r)=>m(r,"recipes"),Di=(a,r)=>m(r,"prepBoards"),Ri=(a,r)=>m(r,"Kitchen Unit Conversion"),Bi=C('<div class="mt-8"><h2 class="text-2xl font-bold text-gray-800 mb-4">Kitchen Unit Conversion</h2> <!></div>'),Mi=C('<div class="px-4 mx-auto mt-8 max-w-7xl sm:px-6 lg:px-8"><h1 class="mb-6 text-3xl font-bold text-gray-900">Kitchen Management</h1> <div class="mb-6 border-b border-gray-200"><nav class="flex -mb-px space-x-8" aria-label="Tabs"><button>Recipes</button> <button>Prep Boards</button> <button>Kitchen Unit Conversion</button></nav></div> <!></div>');function uo(a){let r=V("recipes");var e=Mi(),c=s(o(e),2),d=o(c),l=o(d);l.__click=[Ti,r];var i=s(l,2);i.__click=[Di,r];var v=s(i,2);v.__click=[Ri,r],n(d),n(c);var B=s(c,2);X(B,()=>t(r)==="recipes",b=>{ri(b,{})},b=>{var I=Yt(),$=Mt(I);X($,()=>t(r)==="prepBoards",tt=>{gi(tt,{})},tt=>{var lt=Yt(),K=Mt(lt);X(K,()=>t(r)==="Kitchen Unit Conversion",q=>{var J=Bi(),ot=s(o(J),2);Ei(ot,{}),n(J),_(q,J)},null,!0),_(tt,lt)},!0),_(b,I)}),n(e),R(()=>{he(l,`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none
          ${(t(r)==="recipes"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")??""}`),he(i,`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none
          ${(t(r)==="prepBoards"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")??""}`),he(v,`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none
          ${(t(r)==="Kitchen Unit Conversion"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")??""}`)}),_(a,e)}ne(["click"]);export{uo as component};
