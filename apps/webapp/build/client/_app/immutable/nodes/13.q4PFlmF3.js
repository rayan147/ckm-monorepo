import"../chunks/disclose-version.bJ1TNjgf.js";import{p as xt,d as Q,a as gt,b as i,f as J,g as r,s as a,c as e,t as U,r as t,e as tt,h as at}from"../chunks/runtime.-IAcHVGa.js";import{d as bt,e as yt,s as b}from"../chunks/render.b8-zIhki.js";import{i as z}from"../chunks/if.rhLWI7XC.js";import{e as st}from"../chunks/each.O8IpT50x.js";import{a as v,t as B,c as et}from"../chunks/template.2JA4nrVh.js";import{c as ht}from"../chunks/svelte-component.su-nye_b.js";import{r as wt}from"../chunks/attributes.30sH_1mL.js";import{b as Pt}from"../chunks/input.-wl6lriZ.js";import{b as Bt}from"../chunks/select.MzJQi75E.js";import{p as kt}from"../chunks/event-modifiers.159HUB1L.js";import{p as T}from"../chunks/proxy.-EQ_3oAC.js";import{o as Et}from"../chunks/index-client.CqCSz8ni.js";import{a as K}from"../chunks/index.8zbXj4bR.js";import{C as ot}from"../chunks/chevron-left.w1jSlWrp.js";import{P as Ct,S as St,T as Nt}from"../chunks/trash-2.BVg63cra.js";import{C as it,a as It,b as Dt}from"../chunks/clock.FRcHJdi9.js";async function Ot(R,u,m){i(u,T({name:"",status:"PENDING",recipes:[],prepItems:[]})),i(m,"create")}function dt(R,u,m){i(u,"list"),i(m,null)}var Gt=B('<p class="text-center text-gray-500">Loading prep boards...</p>'),jt=B('<p class="text-center text-red-500"> </p>'),Rt=(R,u,m)=>u(r(m)),Lt=(R,u,m)=>u(r(m).id),Tt=(R,u,m)=>u(r(m)),Mt=B('<div class="overflow-hidden transition-shadow duration-300 bg-white rounded-lg shadow hover:shadow-md"><div class="px-4 py-5 sm:p-6"><div class="flex items-center justify-between mb-4"><div class="flex items-center"><!> <h2 class="text-xl font-semibold text-gray-900"> </h2></div> <div class="flex space-x-2"><button class="text-indigo-600 hover:text-indigo-800"><!></button> <button class="text-red-600 hover:text-red-800"><!></button></div></div> <dl><dt class="text-sm font-medium text-gray-500">Status</dt> <dd class="mt-1 text-sm text-gray-900"> </dd> <dt class="mt-4 text-sm font-medium text-gray-500">Items</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></dl></div> <div class="px-4 py-4 bg-gray-50 sm:px-6"><button class="text-sm font-medium text-indigo-600 hover:text-indigo-500">View Details</button></div></div>'),qt=B('<div class="grid grid-cols-1 gap-6 mt-8 sm:grid-cols-2 lg:grid-cols-3"></div>'),Ft=B('<div class="flex items-center justify-between mb-8"><h1 class="text-3xl font-semibold text-gray-900">Prep Boards</h1> <button class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><!> Add Prep Board</button></div> <!>',1),$t=B('<div class="max-w-2xl mx-auto"><div class="flex items-center justify-between mb-8"><h1 class="text-3xl font-semibold text-gray-900"> </h1> <button class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><!> Back</button></div> <form class="space-y-6"><div><label for="name" class="block text-sm font-medium text-gray-700">Name</label> <input type="text" id="name" required class="block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></div> <div><label for="status" class="block text-sm font-medium text-gray-700">Status</label> <select id="status" class="block w-full px-3 py-2 mt-1 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"><option>Pending</option><option>In Progress</option><option>Completed</option></select></div> <div><button type="submit" class="inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"> </button></div></form></div>'),At=B('<li class="flex items-center justify-between py-3 pl-3 pr-4 text-sm"><div class="flex items-center flex-1 w-0"><span class="flex-1 w-0 ml-2 truncate"> </span></div> <div class="flex-shrink-0 ml-4"><span class="font-medium text-indigo-600 hover:text-indigo-500"> </span></div></li>'),Vt=B('<div class="max-w-4xl mx-auto"><div class="flex items-center justify-between mb-8"><h1 class="text-3xl font-semibold text-gray-900"> </h1> <button class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><!> Back to List</button></div> <div class="overflow-hidden bg-white shadow sm:rounded-lg"><div class="px-4 py-5 sm:px-6"><h3 class="text-lg font-medium leading-6 text-gray-900">Prep Board Details</h3></div> <div class="px-4 py-5 border-t border-gray-200 sm:p-0"><dl class="sm:divide-y sm:divide-gray-200"><div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"><dt class="text-sm font-medium text-gray-500">Status</dt> <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"> </dd></div> <div class="py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"><dt class="text-sm font-medium text-gray-500">Prep Items</dt> <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><ul class="border border-gray-200 divide-y divide-gray-200 rounded-md"></ul></dd></div></dl></div></div></div>'),Qt=B('<div class="px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8"><!></div>');function ne(R,u){xt(u,!0);let m=Q(T([])),n=Q("list"),o=Q(null),W=Q(!0),M=Q(null);Et(async()=>{await X()});async function X(){try{i(W,!0);const s=await K.prepBoard.getPrepBoards({});if(s.status===200)i(m,T(s.body));else throw new Error("Failed to fetch prep boards")}catch(s){i(M,T(s.message))}finally{i(W,!1)}}function nt(s){switch(s){case"COMPLETED":return Dt;case"ON_PROGRESS":return it;case"PENDING":return It;default:return it}}async function lt(s){i(o,T({...s})),i(n,"edit")}async function ct(s){if(confirm("Are you sure you want to delete this prep board?"))try{await K.prepBoard.deletePrepBoard({params:{id:s}}),await X()}catch{i(M,"Failed to delete prep board")}}async function mt(){try{r(n)==="create"?await K.prepBoard.createPrepBoard({body:r(o)}):await K.prepBoard.updatePrepBoard({params:{id:r(o).id},body:r(o)}),await X(),i(n,"list"),i(o,null)}catch{i(M,"Failed to save prep board")}}function vt(s){i(o,T({...s})),i(n,"view")}var Y=Qt(),ut=e(Y);z(ut,()=>r(n)==="list",s=>{var L=Ft(),q=J(L),N=a(e(q),2);N.__click=[Ot,o,n];var k=e(N);Ct(k,{class:"w-5 h-5 mr-2"}),tt(),t(N),t(q);var I=a(q,2);z(I,()=>r(W),y=>{var _=Gt();v(y,_)},y=>{var _=et(),h=J(_);z(h,()=>r(M),w=>{var l=jt(),p=e(l,!0);t(l),U(()=>b(p,r(M))),v(w,l)},w=>{var l=qt();st(l,21,()=>r(m),p=>p.id,(p,c)=>{var P=Mt();const E=at(()=>nt(r(c).status));var x=e(P),f=e(x),g=e(f),D=e(g);ht(D,()=>r(E),(ft,_t)=>{_t(ft,{class:"w-8 h-8 mr-3 text-gray-400"})});var C=a(D,2),O=e(C,!0);t(C),t(g);var G=a(g,2),d=e(G);d.__click=[Rt,lt,c];var S=e(d);St(S,{class:"w-5 h-5"}),t(d);var j=a(d,2);j.__click=[Lt,ct,c];var F=e(j);Nt(F,{class:"w-5 h-5"}),t(j),t(G),t(f);var $=a(f,2),A=a(e($),2),H=e(A,!0);t(A);var V=a(A,4),Z=e(V);t(V),t($),t(x);var rt=a(x,2),pt=e(rt);pt.__click=[Tt,vt,c],t(rt),t(P),U(()=>{b(O,r(c).name),b(H,r(c).status),b(Z,`${r(c).prepItems.length??""} items`)}),v(p,P)}),t(l),v(w,l)},!0),v(y,_)}),v(s,L)},s=>{var L=et(),q=J(L);z(q,()=>r(n)==="create"||r(n)==="edit",N=>{var k=$t(),I=e(k),y=e(I),_=e(y,!0);t(y);var h=a(y,2);h.__click=[dt,n,o];var w=e(h);ot(w,{class:"w-5 h-5 mr-2"}),tt(),t(h),t(I);var l=a(I,2),p=at(()=>kt(mt)),c=e(l),P=a(e(c),2);wt(P),t(c);var E=a(c,2),x=a(e(E),2),f=e(x);f.value=(f.__value="PENDING")==null?"":"PENDING";var g=a(f);g.value=(g.__value="ON_PROGRESS")==null?"":"ON_PROGRESS";var D=a(g);D.value=(D.__value="COMPLETED")==null?"":"COMPLETED",t(x),t(E);var C=a(E,2),O=e(C),G=e(O,!0);t(O),t(C),t(l),t(k),U(()=>{b(_,r(n)==="create"?"Create Prep Board":"Edit Prep Board"),b(G,r(n)==="create"?"Create Prep Board":"Update Prep Board")}),yt("submit",l,function(...d){var S;(S=r(p))==null||S.apply(this,d)}),Pt(P,()=>r(o).name,d=>r(o).name=d),Bt(x,()=>r(o).status,d=>r(o).status=d),v(N,k)},N=>{var k=et(),I=J(k);z(I,()=>r(n)==="view",y=>{var _=Vt(),h=e(_),w=e(h),l=e(w,!0);t(w);var p=a(w,2);p.__click=[dt,n,o];var c=e(p);ot(c,{class:"w-5 h-5 mr-2"}),tt(),t(p),t(h);var P=a(h,2),E=a(e(P),2),x=e(E),f=e(x),g=a(e(f),2),D=e(g,!0);t(g),t(f);var C=a(f,2),O=a(e(C),2),G=e(O);st(G,21,()=>r(o).prepItems,d=>d.id,(d,S)=>{var j=At(),F=e(j),$=e(F),A=e($);t($),t(F);var H=a(F,2),V=e(H),Z=e(V,!0);t(V),t(H),t(j),U(()=>{b(A,`${r(S).recipe.name??""} (Qty: ${r(S).quantity??""})`),b(Z,r(S).status)}),v(d,j)}),t(G),t(O),t(C),t(x),t(E),t(P),t(_),U(()=>{b(l,r(o).name),b(D,r(o).status)}),v(y,_)},null,!0),v(N,k)},!0),v(s,L)}),t(Y),v(R,Y),gt()}bt(["click"]);export{ne as component};
